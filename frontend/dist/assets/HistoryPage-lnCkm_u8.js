import{cW as a,cX as e}from"./index-lk4JT0QR.js";const u=()=>{const[n,l]=a.useState([]),[o,i]=a.useState(""),[h,c]=a.useState(!0);a.useEffect(()=>{const s=async()=>{try{c(!0);const t=await fetch("/api/trade-history");if(!t.ok)throw new Error(`Failed to fetch: ${t.status} ${t.statusText}`);const x=await t.json();l(x),i("")}catch(t){console.error("Error fetching trade history:",t),i("Could not load trade history. The backend may be offline or starting up.")}finally{c(!1)}};s();const r=setInterval(s,3e4);return()=>clearInterval(r)},[]);const d=s=>{const r=s==="Success"?"status-success":"status-failed";return e.jsx("span",{className:r,children:s})};return h?e.jsx("div",{className:"loading-message",children:"Loading history..."}):o?e.jsx("div",{className:"error-message",children:o}):e.jsxs("div",{className:"trade-history-container",children:[e.jsx("h3",{children:"Automated Bot Trade History"}),e.jsx("p",{children:"This table shows the latest trade attempts from the automated arbitrage bot. The data automatically refreshes every 30 seconds."}),n.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{children:"No Trades Yet"}),e.jsx("p",{children:"No trade history found. The bot may not have executed any trades yet."})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Timestamp"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Pair"}),e.jsx("th",{children:"Route"}),e.jsx("th",{children:"Details"})]})}),e.jsx("tbody",{children:n.map((s,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(s.timestamp).toLocaleString()}),e.jsx("td",{children:d(s.status)}),e.jsx("td",{children:s.pair}),e.jsx("td",{children:s.route}),e.jsxs("td",{children:[s.status==="Success"?`Profit: ${s.actualProfit}`:`Error: ${s.error||"N/A"}`,e.jsx("br",{}),e.jsxs("small",{children:["Loan: ",s.loanAmount]}),s.txHash&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("a",{href:`https://basescan.org/tx/${s.txHash}`,target:"_blank",rel:"noopener noreferrer",children:"View Tx"})]})]})]},r))})]})})]})},m=()=>e.jsx(u,{});export{m as default};
