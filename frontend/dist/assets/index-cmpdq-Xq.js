import{ch as ze,ci as Va,cj as Wa,ck as Za,cl as Tt,cm as S,cn as ct,co as it,y as Yr,cp as At,P as ut,cq as he,al as X,ak as M,cr as Ka,cs as xc,ct as vc,cu as Jr,cv as Be,cw as Ya,b1 as q,b2 as $e,_ as Xr,cx as D,cy as St,cz as H,aR as be,cA as ye,cB as ve,cC as Us,cD as Ja,aT as ie,aS as rn,cE as Ye,cF as Re,cG as Qr,cH as Xa,x as gn,cI as Qa,cJ as sn,cK as eo,cL as to,cM as no,cN as es,bL as De,cO as Ec,cP as Ge,cQ as an,cR as on,cS as Pc,cT as js,cU as Ic,cV as Tc,cW as Ac,cX as Sc,aN as Ne,cY as Jt,cZ as Bc,c_ as $c,aO as Xt,c$ as xt,d0 as Cc,d1 as kc,d2 as Nc,d3 as Rc,d4 as Mc,d5 as zc,d6 as Ee,d7 as Fe,d8 as Fc,a$ as _c,d9 as jt,a_ as pr,da as ro,db as Oc,dc as Lc,aU as qc,dd as Uc,aX as jc,aW as Ds,aY as Dc,de as Gc,df as Hc,dg as Vc,dh as so,di as Gs,dj as Wc,dk as Zc,dl as br,dm as Kc,i as Yc,v as Jc,j as Xc}from"./index-B3E2rKjL.js";import{dn as Qb,dp as em,dq as tm,dr as nm,ds as rm,dt as sm,du as am,dF as om,dB as im,dv as cm,dw as um,dC as fm,dx as dm,dG as lm,dD as pm,dH as bm,dI as mm,dz as hm,dE as ym,dA as gm,dU as wm,dN as xm,dO as vm,dP as Em,dQ as Pm,dK as Im,dW as Tm,dJ as Am,dX as Sm,dZ as Bm,d_ as $m,e5 as Cm,dR as km,dS as Nm,e1 as Rm,e2 as Mm,e2 as zm,e3 as Fm,e4 as _m,dT as Om,dV as Lm,dL as qm,d$ as Um,dy as jm,dM as Dm,e0 as Gm,e1 as Hm,e2 as Vm,e0 as Wm,e2 as Zm,dY as Km}from"./index-B3E2rKjL.js";import{g as Qc,I as cn,R as ts,a as un,b as mr,A as hr,M as Dt,H as Ue,c as eu,U as Qt,d as Hs,B as Vs,e as Ws,D as Zs,f as Ks,S as Ys,C as Js,P as Xs,h as Qs,i as ea,J as ta,L as yr,T as gr,j as na,k as ra,l as sa,m as aa,n as oa,o as ia,p as ao,q as wr,r as fn,W as ca}from"./rpc-CKSI7MTo.js";import{s as Jm,t as Xm}from"./rpc-CKSI7MTo.js";import{t as Me,a as wn,s as tu,H as nu,b as ru}from"./sha256-CDD3E8SB.js";import{aK as eh,aL as th,p as nh,q as rh,r as sh,u as ah,v as oh,w as ih,x as ch,d as uh,y as fh,z as dh,A as lh,B as ph,C as bh,D as mh,E as hh,F as yh,G as gh,I as wh,e as xh,J as vh,K as Eh,L as Ph,f as Ih,g as Th,h as Ah,i as Sh,j as Bh,k as $h,c as Ch,l as kh,n as Nh,o as Rh,X as Mh,Y as zh,Z as Fh,_ as _h,$ as Oh,a0 as Lh,a1 as qh,m as Uh,a2 as jh,a3 as Dh,a4 as Gh,a5 as Hh,a6 as Vh,a7 as Wh,a8 as Zh,a9 as Kh,aa as Yh,ab as Jh,N as Xh,ac as Qh,ad as ey,O as ty,P as ny,Q as ry,R as sy,S as ay,T as oy,M as iy,U as cy,V as uy,W as fy,aq as dy,ar as ly,as as py,at as by,au as my,av as hy,aw as yy,af as gy,ax as wy,ay as xy,az as vy,aA as Ey,aB as Py,aC as Iy,aD as Ty,aE as Ay,aF as Sy,aG as By,ag as $y,aH as Cy,aI as ky,aJ as Ny,ah as Ry,ai as My,aj as zy,ak as Fy,al as _y,am as Oy,ae as Ly,an as qy,ao as Uy,ap as jy}from"./sha256-CDD3E8SB.js";const su="1.1.0";let re=class xr extends Error{constructor(t,n={}){var o;const r=n.cause instanceof xr?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof xr&&n.cause.docsPath||n.docsPath,a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${su}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};const oo=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function au(e){return oo.test(e)}function ou(e){return ze(oo,e)}const io=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function iu(e){return io.test(e)}function cu(e){return ze(io,e)}const co=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function uu(e){return co.test(e)}function fu(e){return ze(co,e)}const uo=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Bt(e){return uo.test(e)}function du(e){return ze(uo,e)}const fo=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function lu(e){return fo.test(e)}function pu(e){return ze(fo,e)}const lo=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function bu(e){return lo.test(e)}function mu(e){return ze(lo,e)}const hu=/^receive\(\) external payable$/;function yu(e){return hu.test(e)}const dn=new Set(["memory","indexed","storage","calldata"]),gu=new Set(["indexed"]),vr=new Set(["calldata","memory","storage"]);class wu extends re{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class xu extends re{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class vu extends re{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Eu extends re{constructor({param:t}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}class Pu extends re{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Iu extends re{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Tu extends re{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Au extends re{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Su extends re{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Bu extends re{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class ft extends re{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class $u extends re{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Cu extends re{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class ku extends re{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Nu extends re{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Ru(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let a="";for(const o of s[1])a+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${a}})`}return t?`${t}:${e}${r}`:e}const Vn=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Er(e,t={}){if(uu(e))return Mu(e,t);if(iu(e))return zu(e,t);if(au(e))return Fu(e,t);if(lu(e))return _u(e,t);if(bu(e))return Ou(e);if(yu(e))return{type:"receive",stateMutability:"payable"};throw new $u({signature:e})}function Mu(e,t={}){const n=fu(e);if(!n)throw new ft({signature:e,type:"function"});const r=ue(n.parameters),s=[],a=r.length;for(let c=0;c<a;c++)s.push(ge(r[c],{modifiers:vr,structs:t,type:"function"}));const o=[];if(n.returns){const c=ue(n.returns),i=c.length;for(let u=0;u<i;u++)o.push(ge(c[u],{modifiers:vr,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function zu(e,t={}){const n=cu(e);if(!n)throw new ft({signature:e,type:"event"});const r=ue(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(ge(r[o],{modifiers:gu,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Fu(e,t={}){const n=ou(e);if(!n)throw new ft({signature:e,type:"error"});const r=ue(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(ge(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function _u(e,t={}){const n=pu(e);if(!n)throw new ft({signature:e,type:"constructor"});const r=ue(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(ge(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Ou(e){const t=mu(e);if(!t)throw new ft({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Lu=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,qu=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Uu=/^u?int$/;function ge(e,t){var l,p;const n=Ru(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(Vn.has(n))return Vn.get(n);const r=Va.test(e),s=ze(r?qu:Lu,e);if(!s)throw new Iu({param:e});if(s.name&&Du(s.name))throw new Tu({param:e,name:s.name});const a=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},c=(t==null?void 0:t.structs)??{};let i,u={};if(r){i="tuple";const d=ue(s.type),b=[],m=d.length;for(let g=0;g<m;g++)b.push(ge(d[g],{structs:c}));u={components:b}}else if(s.type in c)i="tuple",u={components:c[s.type]};else if(Uu.test(s.type))i=`${s.type}256`;else if(s.type==="address payable")i="address";else if(i=s.type,(t==null?void 0:t.type)!=="struct"&&!po(i))throw new vu({type:i});if(s.modifier){if(!((p=(l=t==null?void 0:t.modifiers)==null?void 0:l.has)!=null&&p.call(l,s.modifier)))throw new Au({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(vr.has(s.modifier)&&!Gu(i,!!s.array))throw new Su({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${i}${s.array??""}`,...a,...o,...u};return Vn.set(n,f),f}function ue(e,t=[],n="",r=0){const s=e.trim().length;for(let a=0;a<s;a++){const o=e[a],c=e.slice(a+1);switch(o){case",":return r===0?ue(c,[...t,n.trim()]):ue(c,t,`${n}${o}`,r);case"(":return ue(c,t,`${n}${o}`,r+1);case")":return ue(c,t,`${n}${o}`,r-1);default:return ue(c,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new Nu({current:n,depth:r});return t.push(n.trim()),t}function po(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Wa.test(e)||Za.test(e)}const ju=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Du(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Wa.test(e)||Za.test(e)||ju.test(e)}function Gu(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function xn(e){const t={},n=e.length;for(let o=0;o<n;o++){const c=e[o];if(!Bt(c))continue;const i=du(c);if(!i)throw new ft({signature:c,type:"struct"});const u=i.properties.split(";"),f=[],l=u.length;for(let p=0;p<l;p++){const b=u[p].trim();if(!b)continue;const m=ge(b,{type:"struct"});f.push(m)}if(!f.length)throw new Cu({signature:c});t[i.name]=f}const r={},s=Object.entries(t),a=s.length;for(let o=0;o<a;o++){const[c,i]=s[o];r[c]=bo(i,t)}return r}const Hu=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function bo(e,t,n=new Set){const r=[],s=e.length;for(let a=0;a<s;a++){const o=e[a];if(Va.test(o.type))r.push(o);else{const i=ze(Hu,o.type);if(!(i!=null&&i.type))throw new Bu({abiParameter:o});const{array:u,type:f}=i;if(f in t){if(n.has(f))throw new ku({type:f});r.push({...o,type:`tuple${u??""}`,components:bo(t[f]??[],t,new Set([...n,f]))})}else if(po(f))r.push(o);else throw new xu({type:f})}}return r}function mo(e){const t=xn(e),n=[],r=e.length;for(let s=0;s<r;s++){const a=e[s];Bt(a)||n.push(Er(a,t))}return n}function ua(e){let t;if(typeof e=="string")t=Er(e);else{const n=xn(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!Bt(a)){t=Er(a,n);break}}}if(!t)throw new wu({signature:e});return t}function sb(e){let t;if(typeof e=="string")t=ge(e,{modifiers:dn});else{const n=xn(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!Bt(a)){t=ge(a,{modifiers:dn,structs:n});break}}}if(!t)throw new Eu({param:e});return t}function fa(e){const t=[];if(typeof e=="string"){const n=ue(e),r=n.length;for(let s=0;s<r;s++)t.push(ge(n[s],{modifiers:dn}))}else{const n=xn(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(Bt(a))continue;const o=ue(a),c=o.length;for(let i=0;i<c;i++)t.push(ge(o[i],{modifiers:dn,structs:n}))}}if(t.length===0)throw new Pu({params:e});return t}function F(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:a=>t(e,a)}function vn(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:a,response:o,status:c,transport:i})=>{c==="success"&&t===a&&(n[o]=i.request)})),a=>n[a]||e.request}async function ns(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:o,strict:c,toBlock:i}=t,u=vn(e,{method:"eth_newFilter"}),f=a?Tt({abi:r,args:s,eventName:a}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?S(o):o,toBlock:typeof i=="bigint"?S(i):i,topics:f}]});return{abi:r,args:s,eventName:a,id:l,request:u(l),strict:!!c,type:"event"}}function V(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const da="/docs/contract/encodeFunctionData";function Vu(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const a=ct({abi:t,args:n,name:r});if(!a)throw new it(r,{docsPath:da});s=a}if(s.type!=="function")throw new it(void 0,{docsPath:da});return{abi:[s],functionName:Yr(At(s))}}function de(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var c;return e.abi.length===1&&((c=e.functionName)!=null&&c.startsWith("0x"))?e:Vu(e)})(),s=n[0],a=r,o="inputs"in s&&s.inputs?ut(s.inputs,t??[]):void 0;return he([a,o??"0x"])}function ho({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?X(t[a]):t[a]}`).join(", ")})`}const yo={gwei:9,wei:18},go={ether:-9,wei:9},ab={ether:-18,gwei:-9};function wo(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function rs(e,t="wei"){return wo(e,yo[t])}function oe(e,t="wei"){return wo(e,go[t])}class Wu extends M{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Zu extends M{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function la(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Ku(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=la(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=la(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function $t(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Yu extends M{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class xo extends M{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Ju extends M{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",$t(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Xu extends M{constructor({serializedType:t}){super(`Serialized transaction type "${t}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=t}}class Ct extends M{constructor({attributes:t,serializedTransaction:n,type:r}){const s=Object.entries(t).map(([a,o])=>typeof o>"u"?a:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${r}" was provided.`,{metaMessages:[`Serialized Transaction: "${n}"`,s.length>0?`Missing Attributes: ${s.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=n,this.type=r}}class Qu extends M{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class e0 extends M{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:c,maxFeePerGas:i,maxPriorityFeePerGas:u,nonce:f,to:l,value:p}){var b;const d=$t({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:l,value:typeof p<"u"&&`${rs(p)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof c<"u"&&`${oe(c)} gwei`,maxFeePerGas:typeof i<"u"&&`${oe(i)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${oe(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",d].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class vo extends M{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){let o="Transaction";r&&a!==void 0&&(o=`Transaction at block time "${r}" at index "${a}"`),t&&a!==void 0&&(o=`Transaction at block hash "${t}" at index "${a}"`),n&&a!==void 0&&(o=`Transaction at block number "${n}" at index "${a}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class Eo extends M{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class t0 extends M{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class Po extends M{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:c,maxFeePerGas:i,maxPriorityFeePerGas:u,nonce:f,to:l,value:p,stateOverride:d}){var g;const b=n?V(n):void 0;let m=$t({from:b==null?void 0:b.address,to:l,value:typeof p<"u"&&`${rs(p)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof c<"u"&&`${oe(c)} gwei`,maxFeePerGas:typeof i<"u"&&`${oe(i)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${oe(u)} gwei`,nonce:f});d&&(m+=`
${Ku(d)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Io extends M{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:o,sender:c}){const i=ct({abi:n,args:r,name:o}),u=i?ho({abiItem:i,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=i?At(i,{includeName:!0}):void 0,l=$t({address:s&&Qc(s),function:f,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:c});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=c}}class Pr extends M{constructor({abi:t,data:n,functionName:r,message:s}){let a,o,c,i;if(n&&n!=="0x")try{o=Ka({abi:t,data:n});const{abiItem:f,errorName:l,args:p}=o;if(l==="Error")i=p[0];else if(l==="Panic"){const[d]=p;i=xc[d]}else{const d=f?At(f,{includeName:!0}):void 0,b=f&&p?ho({abiItem:f,args:p,includeFunctionName:!1,includeName:!1}):void 0;c=[d?`Error: ${d}`:"",b&&b!=="()"?`       ${[...Array((l==null?void 0:l.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(f){a=f}else s&&(i=s);let u;a instanceof vc&&(u=a.signature,c=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(i&&i!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,i||u].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=i,this.signature=u}}class n0 extends M{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class r0 extends M{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class En extends M{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const s0=3;function He(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const c=e instanceof En?e:e instanceof M?e.walk(b=>"data"in b)||e.walk():{},{code:i,data:u,details:f,message:l,shortMessage:p}=c,d=e instanceof Jr?new n0({functionName:a}):[s0,cn.code].includes(i)&&(u||f||l||p)?new Pr({abi:t,data:typeof u=="object"?u.data:u,functionName:a,message:c instanceof ts?f:p??l}):e;return new Io(d,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}function a0(e){const t=Be(`0x${e.substring(4)}`).substring(26);return Ya(`0x${t}`)}async function o0({hash:e,signature:t}){const n=q(e)?e:$e(e),{secp256k1:r}=await Xr(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Wl);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:l,yParity:p}=t,d=Number(p??l),b=pa(d);return new r.Signature(D(u),D(f)).addRecoveryBit(b)}const o=q(t)?t:$e(t);if(St(o)!==65)throw new Error("invalid signature length");const c=H(`0x${o.slice(130)}`),i=pa(c);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(i)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function pa(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function dt({hash:e,signature:t}){return a0(await o0({hash:e,signature:t}))}function i0(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,a=Be(he(["0x05",Me([t?S(t):"0x",s,n?S(n):"0x"])]));return r==="bytes"?be(a):a}async function ss(e){const{authorization:t,signature:n}=e;return dt({hash:i0(t),signature:n??t})}class c0 extends M{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:c,maxFeePerGas:i,maxPriorityFeePerGas:u,nonce:f,to:l,value:p}){var b;const d=$t({from:n==null?void 0:n.address,to:l,value:typeof p<"u"&&`${rs(p)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof c<"u"&&`${oe(c)} gwei`,maxFeePerGas:typeof i<"u"&&`${oe(i)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${oe(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",d].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Le extends M{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Le,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Le,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Ve extends M{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${oe(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Ve,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Ir extends M{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${oe(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Ir,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Tr extends M{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Tr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Ar extends M{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Ar,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Sr extends M{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Sr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Br extends M{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Br,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class $r extends M{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty($r,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Cr extends M{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Cr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class kr extends M{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(kr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class vt extends M{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${oe(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${oe(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(vt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class kt extends M{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Pn(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof M?e.walk(s=>(s==null?void 0:s.code)===Le.code):e;return r instanceof M?new Le({cause:e,message:r.details}):Le.nodeMessage.test(n)?new Le({cause:e,message:e.details}):Ve.nodeMessage.test(n)?new Ve({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Ir.nodeMessage.test(n)?new Ir({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Tr.nodeMessage.test(n)?new Tr({cause:e,nonce:t==null?void 0:t.nonce}):Ar.nodeMessage.test(n)?new Ar({cause:e,nonce:t==null?void 0:t.nonce}):Sr.nodeMessage.test(n)?new Sr({cause:e,nonce:t==null?void 0:t.nonce}):Br.nodeMessage.test(n)?new Br({cause:e}):$r.nodeMessage.test(n)?new $r({cause:e,gas:t==null?void 0:t.gas}):Cr.nodeMessage.test(n)?new Cr({cause:e,gas:t==null?void 0:t.gas}):kr.nodeMessage.test(n)?new kr({cause:e}):vt.nodeMessage.test(n)?new vt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new kt({cause:e})}function u0(e,{docsPath:t,...n}){const r=(()=>{const s=Pn(e,n);return s instanceof kt?e:s})();return new c0(r,{docsPath:t,...n})}function Nt(e,{format:t}){if(!t)return{};const n={};function r(a){const o=Object.keys(a);for(const c of o)c in e&&(n[c]=e[c]),a[c]&&typeof a[c]=="object"&&!Array.isArray(a[c])&&r(a[c])}const s=t(e||{});return r(s),n}function ba(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Us({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Us({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function f0(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:a}=e,o={};if(a!==void 0&&(o.code=a),t!==void 0&&(o.balance=S(t)),n!==void 0&&(o.nonce=S(n)),r!==void 0&&(o.state=ba(r)),s!==void 0){if(o.state)throw new Zu;o.stateDiff=ba(s)}return o}function as(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ye(n,{strict:!1}))throw new ve({address:n});if(t[n])throw new Wu({address:n});t[n]=f0(r)}return t}function Je(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,o=t?V(t):void 0;if(o&&!ye(o.address))throw new ve({address:o.address});if(a&&!ye(a))throw new ve({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Yu;if(r&&r>wn)throw new Ve({maxFeePerGas:r});if(s&&r&&s>r)throw new vt({maxFeePerGas:r,maxPriorityFeePerGas:s})}class d0 extends M{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class os extends M{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class l0 extends M{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${oe(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class To extends M{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function xe(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,f,l;const a=s??!1,o=n!==void 0?S(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,a]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[o||r,a]},{dedupe:!!o}),!c)throw new To({blockHash:t,blockNumber:n});return(((l=(f=(u=e.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:l.format)||Ja)(c)}async function is(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function p0(e,t){return Ao(e,t)}async function Ao(e,t){var a,o;const{block:n,chain:r=e.chain,request:s}=t||{};try{const c=((a=r==null?void 0:r.fees)==null?void 0:a.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof c=="function"){const u=n||await F(e,xe,"getBlock")({}),f=await c({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof c<"u")return c;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return D(i)}catch{const[c,i]=await Promise.all([n?Promise.resolve(n):F(e,xe,"getBlock")({}),F(e,is,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new os;const u=i-c.baseFeePerGas;return u<0n?0n:u}}async function b0(e,t){return Nr(e,t)}async function Nr(e,t){var p,d;const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},o=await(async()=>{var b,m;return typeof((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(o<1)throw new d0;const i=10**(((p=o.toString().split(".")[1])==null?void 0:p.length)??0),u=b=>b*BigInt(Math.ceil(o*i))/BigInt(i),f=n||await F(e,xe,"getBlock")({});if(typeof((d=r==null?void 0:r.fees)==null?void 0:d.estimateFeesPerGas)=="function"){const b=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:a});if(b!==null)return b}if(a==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new os;const b=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Ao(e,{block:f,chain:r,request:s}),m=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??m+b,maxPriorityFeePerGas:b}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await F(e,is,"getGasPrice")({}))}}async function In(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?S(r):n]},{dedupe:!!r});return H(s)}function cs(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(a=>be(a)):e.blobs,s=[];for(const a of r)s.push(Uint8Array.from(t.blobToKzgCommitment(a)));return n==="bytes"?s:s.map(a=>ie(a))}function us(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>be(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>be(o)):e.commitments,a=[];for(let o=0;o<r.length;o++){const c=r[o],i=s[o];a.push(Uint8Array.from(t.computeBlobKzgProof(c,i)))}return n==="bytes"?a:a.map(o=>ie(o))}function So(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=tu(t,"bytes");return s.set([n],0),r==="bytes"?s:ie(s)}function Bo(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const a of t)s.push(So({commitment:a,to:r,version:n}));return s}const ma=6,$o=32,fs=4096,Co=$o*fs,ha=Co*ma-1-1*fs*ma,ko=1;class m0 extends M{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class No extends M{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class h0 extends M{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class y0 extends M{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${ko}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function g0(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?be(e.data):e.data,r=St(n);if(!r)throw new No;if(r>ha)throw new m0({maxSize:ha,size:r});const s=[];let a=!0,o=0;for(;a;){const c=rn(new Uint8Array(Co));let i=0;for(;i<fs;){const u=n.slice(o,o+($o-1));if(c.pushByte(0),c.pushBytes(u),u.length<31){c.pushByte(128),a=!1;break}i++,o+=31}s.push(c)}return t==="bytes"?s.map(c=>c.bytes):s.map(c=>ie(c.bytes))}function ds(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??g0({data:t,to:r}),a=e.commitments??cs({blobs:s,kzg:n,to:r}),o=e.proofs??us({blobs:s,commitments:a,kzg:n,to:r}),c=[];for(let i=0;i<s.length;i++)c.push({blob:s[i],commitment:a[i],proof:o[i]});return c}function Ro(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Ju({transaction:e})}async function lt(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return H(t)}const Mo=["blobVersionedHashes","chainId","fees","gas","nonce","type"],ya=new Map;async function Tn(e,t){const{account:n=e.account,blobs:r,chain:s,gas:a,kzg:o,nonce:c,nonceManager:i,parameters:u=Mo,type:f}=t,l=n&&V(n),p={...t,...l?{from:l==null?void 0:l.address}:{}};let d;async function b(){return d||(d=await F(e,xe,"getBlock")({blockTag:"latest"}),d)}let m;async function g(){return m||(s?s.id:typeof t.chainId<"u"?t.chainId:(m=await F(e,lt,"getChainId")({}),m))}if(u.includes("nonce")&&typeof c>"u"&&l)if(i){const h=await g();p.nonce=await i.consume({address:l.address,chainId:h,client:e})}else p.nonce=await F(e,In,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const h=cs({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const x=Bo({commitments:h,to:"hex"});p.blobVersionedHashes=x}if(u.includes("sidecars")){const x=us({blobs:r,commitments:h,kzg:o}),w=ds({blobs:r,commitments:h,proofs:x,to:"hex"});p.sidecars=w}}if(u.includes("chainId")&&(p.chainId=await g()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{p.type=Ro(p)}catch{let h=ya.get(e.uid);if(typeof h>"u"){const x=await b();h=typeof(x==null?void 0:x.baseFeePerGas)=="bigint",ya.set(e.uid,h)}p.type=h?"eip1559":"legacy"}if(u.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){const h=await b(),{maxFeePerGas:x,maxPriorityFeePerGas:w}=await Nr(e,{block:h,chain:s,request:p});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new l0({maxPriorityFeePerGas:w});p.maxPriorityFeePerGas=w,p.maxFeePerGas=x}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new os;if(typeof t.gasPrice>"u"){const h=await b(),{gasPrice:x}=await Nr(e,{block:h,chain:s,request:p,type:"legacy"});p.gasPrice=x}}return u.includes("gas")&&typeof a>"u"&&(p.gas=await F(e,ls,"estimateGas")({...p,account:l&&{address:l.address,type:"json-rpc"}})),Je(p),delete p.parameters,p}async function ls(e,t){var s,a,o;const{account:n=e.account}=t,r=n?V(n):void 0;try{const{accessList:c,authorizationList:i,blobs:u,blobVersionedHashes:f,blockNumber:l,blockTag:p,data:d,gas:b,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:h,maxPriorityFeePerGas:x,nonce:w,value:y,stateOverride:v,...E}=await Tn(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),I=(typeof l=="bigint"?S(l):void 0)||p,A=as(v),N=await(async()=>{if(E.to)return E.to;if(i&&i.length>0)return await ss({authorization:i[0]}).catch(()=>{throw new M("`to` is required. Could not infer from `authorizationList`")})})();Je(t);const T=(o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest)==null?void 0:o.format,R=(T||Ye)({...Nt(E,{format:T}),from:r==null?void 0:r.address,accessList:c,authorizationList:i,blobs:u,blobVersionedHashes:f,data:d,gas:b,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:h,maxPriorityFeePerGas:x,nonce:w,to:N,value:y});return BigInt(await e.request({method:"eth_estimateGas",params:A?[R,I??e.experimental_blockTag??"latest",A]:I?[R,I]:[R]}))}catch(c){throw u0(c,{...t,account:r,chain:e.chain})}}async function zo(e,t){const{abi:n,address:r,args:s,functionName:a,dataSuffix:o,...c}=t,i=de({abi:n,args:s,functionName:a});try{return await F(e,ls,"estimateGas")({data:`${i}${o?o.replace("0x",""):""}`,to:r,...c})}catch(u){const f=c.account?V(c.account):void 0;throw He(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:f==null?void 0:f.address})}}async function ps(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:c,strict:i}={}){const u=i??!1,f=o??(a?[a]:void 0);let l=[];f&&(l=[f.flatMap(m=>Tt({abi:[m],eventName:m.name,args:o?void 0:c}))],a&&(l=l[0]));let p;n?p=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):p=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?S(r):r,toBlock:typeof s=="bigint"?S(s):s}]});const d=p.map(b=>Re(b));return f?Qr({abi:f,args:c,logs:d,strict:u}):d}async function bs(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:o,fromBlock:c,toBlock:i,strict:u}=t,f=o?ct({abi:n,name:o}):void 0,l=f?void 0:n.filter(p=>p.type==="event");return F(e,ps,"getLogs")({address:r,args:s,blockHash:a,event:f,events:l,fromBlock:c,toBlock:i,strict:u})}const Wn="/docs/contract/decodeFunctionResult";function Xe(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const c=ct({abi:t,args:n,name:r});if(!c)throw new it(r,{docsPath:Wn});a=c}if(a.type!=="function")throw new it(void 0,{docsPath:Wn});if(!a.outputs)throw new Xa(a.name,{docsPath:Wn});const o=gn(a.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ms=BigInt(0),Rr=BigInt(1);function Rt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function hs(e){if(!Rt(e))throw new Error("Uint8Array expected")}function Et(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Gt(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Fo(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?ms:BigInt("0x"+e)}const _o=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",w0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Pt(e){if(hs(e),_o)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=w0[e[n]];return t}const Pe={_0:48,_9:57,A:65,F:70,a:97,f:102};function ga(e){if(e>=Pe._0&&e<=Pe._9)return e-Pe._0;if(e>=Pe.A&&e<=Pe.F)return e-(Pe.A-10);if(e>=Pe.a&&e<=Pe.f)return e-(Pe.a-10)}function ln(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(_o)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const o=ga(e.charCodeAt(a)),c=ga(e.charCodeAt(a+1));if(o===void 0||c===void 0){const i=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+i+'" at index '+a)}r[s]=o*16+c}return r}function je(e){return Fo(Pt(e))}function Oo(e){return hs(e),Fo(Pt(Uint8Array.from(e).reverse()))}function Mt(e,t){return ln(e.toString(16).padStart(t*2,"0"))}function Lo(e,t){return Mt(e,t).reverse()}function pe(e,t,n){let r;if(typeof t=="string")try{r=ln(t)}catch(a){throw new Error(e+" must be hex string or Uint8Array, cause: "+a)}else if(Rt(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function pn(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];hs(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const a=e[r];n.set(a,s),s+=a.length}return n}const Zn=e=>typeof e=="bigint"&&ms<=e;function ys(e,t,n){return Zn(e)&&Zn(t)&&Zn(n)&&t<=e&&e<n}function at(e,t,n,r){if(!ys(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function x0(e){let t;for(t=0;e>ms;e>>=Rr,t+=1);return t}const An=e=>(Rr<<BigInt(e))-Rr,Kn=e=>new Uint8Array(e),wa=e=>Uint8Array.from(e);function v0(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Kn(e),s=Kn(e),a=0;const o=()=>{r.fill(1),s.fill(0),a=0},c=(...l)=>n(s,r,...l),i=(l=Kn(0))=>{s=c(wa([0]),l),r=c(),l.length!==0&&(s=c(wa([1]),l),r=c())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const p=[];for(;l<t;){r=c();const d=r.slice();p.push(d),l+=r.length}return pn(...p)};return(l,p)=>{o(),i(l);let d;for(;!(d=p(u()));)i();return o(),d}}const E0={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Rt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Sn(e,t,n={}){const r=(s,a,o)=>{const c=E0[a];if(typeof c!="function")throw new Error("invalid validator function");const i=e[s];if(!(o&&i===void 0)&&!c(i,e))throw new Error("param "+String(s)+" is invalid. Expected "+a+", got "+i)};for(const[s,a]of Object.entries(t))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return e}function xa(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const a=e(n,...r);return t.set(n,a),a}}const P0="0.1.1";function I0(){return P0}class L extends Error{constructor(t,n={}){const r=(()=>{var i;if(n.cause instanceof L){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details})(),s=n.cause instanceof L&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,c=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(i=>typeof i=="string").join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${I0()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return qo(this,t)}}function qo(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?qo(e.cause,t):t?null:e}function zt(e,t){if(rt(e)>t)throw new G0({givenSize:rt(e),maxSize:t})}const Ie={zero:48,nine:57,A:65,F:70,a:97,f:102};function va(e){if(e>=Ie.zero&&e<=Ie.nine)return e-Ie.zero;if(e>=Ie.A&&e<=Ie.F)return e-(Ie.A-10);if(e>=Ie.a&&e<=Ie.f)return e-(Ie.a-10)}function T0(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new H0({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let a=0;a<r;a++){const o=n==="right";s[o?a:r-a-1]=e[o?a:e.length-a-1]}return s}function Uo(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let a=0;a<r.length-1&&r[n==="left"?a:r.length-a-1].toString()==="0";a++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Bn(e,t){if(ne(e)>t)throw new K0({givenSize:ne(e),maxSize:t})}function A0(e,t){if(typeof t=="number"&&t>0&&t>ne(e)-1)throw new Ko({offset:t,position:"start",size:ne(e)})}function S0(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ne(e)!==n-t)throw new Ko({offset:n,position:"end",size:ne(e)})}function jo(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Y0({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}function B0(e,t={}){const{dir:n="left"}=t;let r=e.replace("0x",""),s=0;for(let a=0;a<r.length-1&&r[n==="left"?a:r.length-a-1].toString()==="0";a++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r==="0"?"0x":n==="right"&&r.length%2===1?`0x${r}0`:`0x${r}`}const $0="#__bigint";function $n(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+$0:s,n)}const C0=new TextDecoder,k0=new TextEncoder;function N0(e){if(!(e instanceof Uint8Array)){if(!e)throw new Ht(e);if(typeof e!="object")throw new Ht(e);if(!("BYTES_PER_ELEMENT"in e))throw new Ht(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new Ht(e)}}function R0(e){return e instanceof Uint8Array?e:typeof e=="string"?gs(e):M0(e)}function M0(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function gs(e,t={}){const{size:n}=t;let r=e;n&&(Bn(e,n),r=Ze(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,o=new Uint8Array(a);for(let c=0,i=0;c<a;c++){const u=va(s.charCodeAt(i++)),f=va(s.charCodeAt(i++));if(u===void 0||f===void 0)throw new L(`Invalid byte sequence ("${s[i-2]}${s[i-1]}" in "${s}").`);o[c]=u*16+f}return o}function z0(e,t={}){const{size:n}=t,r=k0.encode(e);return typeof n=="number"?(zt(r,n),F0(r,n)):r}function F0(e,t){return T0(e,{dir:"right",size:t})}function rt(e){return e.length}function _0(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function O0(e,t={}){const{size:n}=t;typeof n<"u"&&zt(e,n);const r=fe(e,t);return Ho(r,t)}function L0(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(zt(r,n),r=Do(r)),r.length>1||r[0]>1)throw new D0(r);return!!r[0]}function Se(e,t={}){const{size:n}=t;typeof n<"u"&&zt(e,n);const r=fe(e,t);return Vo(r,t)}function q0(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(zt(r,n),r=U0(r)),C0.decode(r)}function Do(e){return Uo(e,{dir:"left"})}function U0(e){return Uo(e,{dir:"right"})}function j0(e){try{return N0(e),!0}catch{return!1}}class D0 extends L{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class Ht extends L{constructor(t){super(`Value \`${typeof t=="object"?$n(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}let G0=class extends L{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},H0=class extends L{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const V0=new TextEncoder,W0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Z0(e,t={}){const{strict:n=!1}=t;if(!e)throw new Pa(e);if(typeof e!="string")throw new Pa(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Ia(e);if(!e.startsWith("0x"))throw new Ia(e)}function ce(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function ws(e){return e instanceof Uint8Array?fe(e):Array.isArray(e)?fe(new Uint8Array(e)):e}function Go(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Bn(n,t.size),We(n,t.size)):n}function fe(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=W0[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Bn(r,t.size),Ze(r,t.size)):r}function G(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<o){const u=typeof e=="bigint"?"n":"";throw new Zo({max:a?`${a}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${e}${u}`})}const i=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?We(i,r):i}function xs(e,t={}){return fe(V0.encode(e),t)}function We(e,t){return jo(e,{dir:"left",size:t})}function Ze(e,t){return jo(e,{dir:"right",size:t})}function Y(e,t,n,r={}){const{strict:s}=r;A0(e,t);const a=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&S0(a,t,n),a}function ne(e){return Math.ceil((e.length-2)/2)}function Ea(e){return B0(e,{dir:"left"})}function Ho(e,t={}){const{signed:n}=t;t.size&&Bn(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n)-1n,o=a>>1n;return r<=o?r:r-a-1n}function Vo(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Ho(e,t))}function Wo(e,t={}){const{strict:n=!1}=t;try{return Z0(e,{strict:n}),!0}catch{return!1}}class Zo extends L{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number \`${a}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Pa extends L{constructor(t){super(`Value \`${typeof t=="object"?$n(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Ia extends L{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class K0 extends L{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Ko extends L{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Y0 extends L{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function J0(e){return{address:e.address,amount:G(e.amount),index:G(e.index),validatorIndex:G(e.validatorIndex)}}function Yo(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:G(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:G(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:G(e.gasLimit)},...typeof e.number=="bigint"&&{number:G(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:G(e.prevRandao)},...typeof e.time=="bigint"&&{time:G(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(J0)}}}const bn=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Mr=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Jo=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Xo=[...Jo,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],X0=[...Jo,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Ta=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Aa=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Qo=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Sa=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],cb=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],ub=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],fb=[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],db=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],lb=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Q0="0x82ad56cb",ei="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",ef="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",tf="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",vs="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class zr extends M{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class nf extends M{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class rf extends M{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class ti extends M{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Cn extends M{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const Yn="/docs/contract/encodeDeployData";function kn(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new Qa({docsPath:Yn});if(!("inputs"in s))throw new sn({docsPath:Yn});if(!s.inputs||s.inputs.length===0)throw new sn({docsPath:Yn});const a=ut(s.inputs,n);return he([r,a])}function pt({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new zr({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new zr({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function ni(e,{docsPath:t,...n}){const r=(()=>{const s=Pn(e,n);return s instanceof kt?e:s})();return new Po(r,{docsPath:t,...n})}function Es(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const Jn=new Map;function Ps({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const f=i();o();const l=f.map(({args:p})=>p);l.length!==0&&e(l).then(p=>{s&&Array.isArray(p)&&p.sort(s);for(let d=0;d<f.length;d++){const{resolve:b}=f[d];b==null||b([p[d],p])}}).catch(p=>{for(let d=0;d<f.length;d++){const{reject:b}=f[d];b==null||b(p)}})},o=()=>Jn.delete(t),c=()=>i().map(({args:f})=>f),i=()=>Jn.get(t)||[],u=f=>Jn.set(t,[...i(),f]);return{flush:o,async schedule(f){const{promise:l,resolve:p,reject:d}=Es();return(n==null?void 0:n([...c(),f]))&&a(),i().length>0?(u({args:f,resolve:p,reject:d}),l):(u({args:f,resolve:p,reject:d}),setTimeout(a,r),l)}}}async function Ft(e,t){var R,U,$,C;const{account:n=e.account,authorizationList:r,batch:s=!!((R=e.batch)!=null&&R.multicall),blockNumber:a,blockTag:o=e.experimental_blockTag??"latest",accessList:c,blobs:i,blockOverrides:u,code:f,data:l,factory:p,factoryData:d,gas:b,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:h,maxPriorityFeePerGas:x,nonce:w,to:y,value:v,stateOverride:E,...P}=t,I=n?V(n):void 0;if(f&&(p||d))throw new M("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&y)throw new M("Cannot provide both `code` & `to` as parameters.");const A=f&&l,N=p&&d&&y&&l,T=A||N,k=A?ri({code:f,data:l}):N?of({data:l,factory:p,factoryData:d,to:y}):l;try{Je(t);const B=(typeof a=="bigint"?S(a):void 0)||o,z=u?Yo(u):void 0,O=as(E),j=(C=($=(U=e.chain)==null?void 0:U.formatters)==null?void 0:$.transactionRequest)==null?void 0:C.format,Q=(j||Ye)({...Nt(P,{format:j}),from:I==null?void 0:I.address,accessList:c,authorizationList:r,blobs:i,data:k,gas:b,gasPrice:m,maxFeePerBlobGas:g,maxFeePerGas:h,maxPriorityFeePerGas:x,nonce:w,to:T?void 0:y,value:v});if(s&&sf({request:Q})&&!O&&!z)try{return await af(e,{...Q,blockNumber:a,blockTag:o})}catch(ee){if(!(ee instanceof ti)&&!(ee instanceof zr))throw ee}const J=(()=>{const ee=[Q,B];return O&&z?[...ee,O,z]:O?[...ee,O]:z?[...ee,{},z]:ee})(),Z=await e.request({method:"eth_call",params:J});return Z==="0x"?{data:void 0}:{data:Z}}catch(_){const B=cf(_),{offchainLookup:z,offchainLookupSignature:O}=await Xr(async()=>{const{offchainLookup:j,offchainLookupSignature:W}=await Promise.resolve().then(()=>bd);return{offchainLookup:j,offchainLookupSignature:W}},void 0);if(e.ccipRead!==!1&&(B==null?void 0:B.slice(0,10))===O&&y)return{data:await z(e,{data:B,to:y})};throw T&&(B==null?void 0:B.slice(0,10))==="0x101bb98d"?new r0({factory:p}):ni(_,{...t,account:I,chain:e.chain})}}function sf({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Q0)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function af(e,t){var m;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((m=e.batch)==null?void 0:m.multicall)=="object"?e.batch.multicall:{},{blockNumber:a,blockTag:o=e.experimental_blockTag??"latest",data:c,to:i}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return pt({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new ti})(),l=(typeof a=="bigint"?S(a):void 0)||o,{schedule:p}=Ps({id:`${e.uid}.${l}`,wait:s,shouldSplitBatch(g){return g.reduce((x,{data:w})=>x+(w.length-2),0)>n*2},fn:async g=>{const h=g.map(y=>({allowFailure:!0,callData:y.data,target:y.to})),x=de({abi:bn,args:[h],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{...u===null?{data:ri({code:vs,data:x})}:{to:u,data:x}},l]});return Xe({abi:bn,args:[h],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:d,success:b}]=await p({data:c,to:i});if(!b)throw new En({data:d});return d==="0x"?{data:void 0}:{data:d}}function ri(e){const{code:t,data:n}=e;return kn({abi:mo(["constructor(bytes, bytes)"]),bytecode:ei,args:[t,n]})}function of(e){const{data:t,factory:n,factoryData:r,to:s}=e;return kn({abi:mo(["constructor(address, bytes, address, bytes)"]),bytecode:ef,args:[s,t,n,r]})}function cf(e){var n;if(!(e instanceof M))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function me(e,t){const{abi:n,address:r,args:s,functionName:a,...o}=t,c=de({abi:n,args:s,functionName:a});try{const{data:i}=await F(e,Ft,"call")({...o,data:c,to:r});return Xe({abi:n,args:s,functionName:a,data:i||"0x"})}catch(i){throw He(i,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function si(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:o,...c}=t,i=c.account?V(c.account):e.account,u=de({abi:n,args:s,functionName:o});try{const{data:f}=await F(e,Ft,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...c,account:i}),l=Xe({abi:n,args:s,functionName:o,data:f||"0x"}),p=n.filter(d=>"name"in d&&d.name===t.functionName);return{result:l,request:{abi:p,address:r,args:s,dataSuffix:a,functionName:o,...c,account:i}}}catch(f){throw He(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:i==null?void 0:i.address})}}const Xn=new Map,Ba=new Map;let uf=0;function Ce(e,t,n){const r=++uf,s=()=>Xn.get(e)||[],a=()=>{const f=s();Xn.set(e,f.filter(l=>l.id!==r))},o=()=>{const f=s();if(!f.some(p=>p.id===r))return;const l=Ba.get(e);if(f.length===1&&l){const p=l();p instanceof Promise&&p.catch(()=>{})}a()},c=s();if(Xn.set(e,[...c,{id:r,fns:t}]),c&&c.length>0)return o;const i={};for(const f in t)i[f]=(...l)=>{var d,b;const p=s();if(p.length!==0)for(const m of p)(b=(d=m.fns)[f])==null||b.call(d,...l)};const u=n(i);return typeof u=="function"&&Ba.set(e,u),o}async function mn(e){return new Promise(t=>setTimeout(t,e))}function bt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let c;t&&(c=await e({unpoll:a}));const i=await(n==null?void 0:n(c))??r;await mn(i);const u=async()=>{s&&(await e({unpoll:a}),await mn(r),u())};u()})(),a}const ff=new Map,df=new Map;function lf(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:o=>a.set(s,o)}),n=t(e,ff),r=t(e,df);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function pf(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=lf(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const o=await a;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const bf=e=>`blockNumber.${e}`;async function _t(e,{cacheTime:t=e.cacheTime}={}){const n=await pf(()=>e.request({method:"eth_blockNumber"}),{cacheKey:bf(e.uid),cacheTime:t});return BigInt(n)}async function Nn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>Re(a));return!("abi"in t)||!t.abi?s:Qr({abi:t.abi,logs:s,strict:n})}async function Rn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function ai(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:o,fromBlock:c,onError:i,onLogs:u,poll:f,pollingInterval:l=e.pollingInterval,strict:p}=t;return(typeof f<"u"?f:typeof c=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const g=p??!1,h=X(["watchContractEvent",r,s,a,e.uid,o,l,g,c]);return Ce(h,{onLogs:u,onError:i},x=>{let w;c!==void 0&&(w=c-1n);let y,v=!1;const E=bt(async()=>{var P;if(!v){try{y=await F(e,ns,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:g,fromBlock:c})}catch{}v=!0;return}try{let I;if(y)I=await F(e,Nn,"getFilterChanges")({filter:y});else{const A=await F(e,_t,"getBlockNumber")({});w&&w<A?I=await F(e,bs,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:w+1n,toBlock:A,strict:g}):I=[],w=A}if(I.length===0)return;if(a)x.onLogs(I);else for(const A of I)x.onLogs([A])}catch(I){y&&I instanceof un&&(v=!1),(P=x.onError)==null||P.call(x,I)}},{emitOnBegin:!0,interval:l});return async()=>{y&&await F(e,Rn,"uninstallFilter")({filter:y}),E()}})})():(()=>{const g=p??!1,h=X(["watchContractEvent",r,s,a,e.uid,o,l,g]);let x=!0,w=()=>x=!1;return Ce(h,{onLogs:u,onError:i},y=>((async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const I=e.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return I?I.value:e.transport}return e.transport})(),E=o?Tt({abi:n,eventName:o,args:s}):[],{unsubscribe:P}=await v.subscribe({params:["logs",{address:r,topics:E}],onData(I){var N;if(!x)return;const A=I.result;try{const{eventName:T,args:k}=eo({abi:n,data:A.data,topics:A.topics,strict:p}),R=Re(A,{args:k,eventName:T});y.onLogs([R])}catch(T){let k,R;if(T instanceof to||T instanceof no){if(p)return;k=T.abiItem.name,R=(N=T.abiItem.inputs)==null?void 0:N.some($=>!("name"in $&&$.name))}const U=Re(A,{args:R?[]:{},eventName:k});y.onLogs([U])}},onError(I){var A;(A=y.onError)==null||A.call(y,I)}});w=P,x||w()}catch(v){i==null||i(v)}})(),()=>w()))})()}class Qe extends M{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class en extends M{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function oi({chain:e,currentChainId:t}){if(!e)throw new rf;if(t!==e.id)throw new nf({chain:e,currentChainId:t})}function ii(e,{docsPath:t,...n}){const r=(()=>{const s=Pn(e,n);return s instanceof kt?e:s})();return new e0(r,{docsPath:t,...n})}async function Is(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Qn=new es(128);async function Mn(e,t){var x,w,y,v;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:o,data:c,gas:i,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:d,type:b,value:m,...g}=t;if(typeof n>"u")throw new Qe({docsPath:"/docs/actions/wallet/sendTransaction"});const h=n?V(n):null;try{Je(t);const E=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await ss({authorization:a[0]}).catch(()=>{throw new M("`to` is required. Could not infer from `authorizationList`.")})})();if((h==null?void 0:h.type)==="json-rpc"||h===null){let P;r!==null&&(P=await F(e,lt,"getChainId")({}),oi({currentChainId:P,chain:r}));const I=(y=(w=(x=e.chain)==null?void 0:x.formatters)==null?void 0:w.transactionRequest)==null?void 0:y.format,N=(I||Ye)({...Nt(g,{format:I}),accessList:s,authorizationList:a,blobs:o,chainId:P,data:c,from:h==null?void 0:h.address,gas:i,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:d,to:E,type:b,value:m}),T=Qn.get(e.uid),k=T?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:k,params:[N]},{retryCount:0})}catch(R){if(T===!1)throw R;const U=R;if(U.name==="InvalidInputRpcError"||U.name==="InvalidParamsRpcError"||U.name==="MethodNotFoundRpcError"||U.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[N]},{retryCount:0}).then($=>(Qn.set(e.uid,!0),$)).catch($=>{const C=$;throw C.name==="MethodNotFoundRpcError"||C.name==="MethodNotSupportedRpcError"?(Qn.set(e.uid,!1),U):C});throw U}}if((h==null?void 0:h.type)==="local"){const P=await F(e,Tn,"prepareTransactionRequest")({account:h,accessList:s,authorizationList:a,blobs:o,chain:r,data:c,gas:i,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:d,nonceManager:h.nonceManager,parameters:[...Mo,"sidecars"],type:b,value:m,...g,to:E}),I=(v=r==null?void 0:r.serializers)==null?void 0:v.transaction,A=await h.signTransaction(P,{serializer:I});return await F(e,Is,"sendRawTransaction")({serializedTransaction:A})}throw(h==null?void 0:h.type)==="smart"?new en({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new en({docsPath:"/docs/actions/wallet/sendTransaction",type:h==null?void 0:h.type})}catch(E){throw E instanceof en?E:ii(E,{...t,account:h,chain:t.chain||void 0})}}async function ci(e,t){const{abi:n,account:r=e.account,address:s,args:a,dataSuffix:o,functionName:c,...i}=t;if(typeof r>"u")throw new Qe({docsPath:"/docs/contract/writeContract"});const u=r?V(r):null,f=de({abi:n,args:a,functionName:c});try{return await F(e,Mn,"sendTransaction")({data:`${f}${o?o.replace("0x",""):""}`,to:s,account:u,...i})}catch(l){throw He(l,{abi:n,address:s,args:a,docsPath:"/docs/contract/writeContract",functionName:c,sender:u==null?void 0:u.address})}}function pb({abi:e,address:t,client:n}){const r=n,[s,a]=r?"public"in r&&"wallet"in r?[r.public,r.wallet]:"public"in r?[r.public,void 0]:"wallet"in r?[void 0,r.wallet]:[r,r]:[void 0,void 0],o=s!=null,c=a!=null,i={};let u=!1,f=!1,l=!1;for(const p of e)if(p.type==="function"?p.stateMutability==="view"||p.stateMutability==="pure"?u=!0:f=!0:p.type==="event"&&(l=!0),u&&f&&l)break;return o&&(u&&(i.read=new Proxy({},{get(p,d){return(...b)=>{const{args:m,options:g}=Vt(b);return F(s,me,"readContract")({abi:e,address:t,functionName:d,args:m,...g})}}})),f&&(i.simulate=new Proxy({},{get(p,d){return(...b)=>{const{args:m,options:g}=Vt(b);return F(s,si,"simulateContract")({abi:e,address:t,functionName:d,args:m,...g})}}})),l&&(i.createEventFilter=new Proxy({},{get(p,d){return(...b)=>{const m=e.find(x=>x.type==="event"&&x.name===d),{args:g,options:h}=er(b,m);return F(s,ns,"createContractEventFilter")({abi:e,address:t,eventName:d,args:g,...h})}}}),i.getEvents=new Proxy({},{get(p,d){return(...b)=>{const m=e.find(x=>x.type==="event"&&x.name===d),{args:g,options:h}=er(b,m);return F(s,bs,"getContractEvents")({abi:e,address:t,eventName:d,args:g,...h})}}}),i.watchEvent=new Proxy({},{get(p,d){return(...b)=>{const m=e.find(x=>x.type==="event"&&x.name===d),{args:g,options:h}=er(b,m);return F(s,ai,"watchContractEvent")({abi:e,address:t,eventName:d,args:g,...h})}}}))),c&&f&&(i.write=new Proxy({},{get(p,d){return(...b)=>{const{args:m,options:g}=Vt(b);return F(a,ci,"writeContract")({abi:e,address:t,functionName:d,args:m,...g})}}})),(o||c)&&f&&(i.estimateGas=new Proxy({},{get(p,d){return(...b)=>{const{args:m,options:g}=Vt(b);return F(s??a,zo,"estimateContractGas")({abi:e,address:t,functionName:d,args:m,...g,account:g.account??a.account})}}})),i.address=t,i.abi=e,i}function Vt(e){const t=e.length&&Array.isArray(e[0]),n=t?e[0]:[],r=(t?e[1]:e[0])??{};return{args:n,options:r}}function er(e,t){let n=!1;Array.isArray(e[0])?n=!0:e.length===1?n=t.inputs.some(a=>a.indexed):e.length===2&&(n=!0);const r=n?e[0]:void 0,s=(n?e[1]:e[0])??{};return{args:r,options:s}}class mf extends M{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function hn(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const o=async({count:c=0}={})=>{const i=async({error:u})=>{const f=typeof t=="function"?t({count:c,error:u}):t;f&&await mn(f),o({count:c+1})};try{const u=await e();s(u)}catch(u){if(c<n&&await r({count:c,error:u}))return i({error:u});a(u)}};o()})}const ui="0x5792579257925792579257925792579257925792579257925792579257925792",fi=S(0,{size:32});async function hf(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:a,experimental_fallbackDelay:o=32,forceAtomic:c=!1,id:i,version:u="2.0.0"}=t,f=n?V(n):null,l=t.calls.map(p=>{const d=p,b=d.abi?de({abi:d.abi,functionName:d.functionName,args:d.args}):d.data;return{data:d.dataSuffix&&b?De([b,d.dataSuffix]):b,to:d.to,value:d.value?S(d.value):void 0}});try{const p=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:c,calls:l,capabilities:r,chainId:S(s.id),from:f==null?void 0:f.address,id:i,version:u}]},{retryCount:0});return typeof p=="string"?{id:p}:p}catch(p){const d=p;if(a&&(d.name==="MethodNotFoundRpcError"||d.name==="MethodNotSupportedRpcError"||d.name==="UnknownRpcError"||d.details.toLowerCase().includes("does not exist / is not available")||d.details.toLowerCase().includes("missing or invalid. request()")||d.details.toLowerCase().includes("did not match any variant of untagged enum")||d.details.toLowerCase().includes("account upgraded to unsupported contract")||d.details.toLowerCase().includes("eip-7702 not supported")||d.details.toLowerCase().includes("unsupported wc_ method")||d.details.toLowerCase().includes("feature toggled misconfigured"))){if(r&&Object.values(r).some(x=>!x.optional)){const x="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new mr(new M(x,{details:x}))}if(c&&l.length>1){const h="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new hr(new M(h,{details:h}))}const b=[];for(const h of l){const x=Mn(e,{account:f,chain:s,data:h.data,to:h.to,value:h.value?D(h.value):void 0});b.push(x),o>0&&await new Promise(w=>setTimeout(w,o))}const m=await Promise.allSettled(b);if(m.every(h=>h.status==="rejected"))throw m[0].reason;const g=m.map(h=>h.status==="fulfilled"?h.value:fi);return{id:De([...g,S(s.id,{size:32}),ui])}}throw ii(p,{...t,account:f,chain:t.chain})}}async function di(e,t){async function n(f){if(f.endsWith(ui.slice(2))){const p=Ge(an(f,-64,-32)),d=an(f,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(d.map(g=>fi.slice(2)!==g?e.request({method:"eth_getTransactionReceipt",params:[`0x${g}`]},{dedupe:!0}):void 0)),m=b.some(g=>g===null)?100:b.every(g=>(g==null?void 0:g.status)==="0x1")?200:b.every(g=>(g==null?void 0:g.status)==="0x0")?500:600;return{atomic:!1,chainId:H(p),receipts:b.filter(Boolean),status:m,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:a,version:o="2.0.0",...c}=await n(t.id),[i,u]=(()=>{const f=c.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...c,atomic:r,chainId:s?H(s):void 0,receipts:(a==null?void 0:a.map(f=>({...f,blockNumber:D(f.blockNumber),gasUsed:D(f.gasUsed),status:Ec[f.status]})))??[],statusCode:u,status:i,version:o}}async function yf(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:m})=>m===200||m>=300,retryCount:a=4,retryDelay:o=({count:m})=>~~(1<<m)*200,timeout:c=6e4,throwOnFailure:i=!1}=t,u=X(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:l,reject:p}=Es();let d;const b=Ce(u,{resolve:l,reject:p},m=>{const g=bt(async()=>{const h=x=>{clearTimeout(d),g(),x(),b()};try{const x=await hn(async()=>{const w=await F(e,di,"getCallsStatus")({id:n});if(i&&w.status==="failure")throw new mf(w);return w},{retryCount:a,delay:o});if(!s(x))return;h(()=>m.resolve(x))}catch(x){h(()=>m.reject(x))}},{interval:r,emitOnBegin:!0});return g});return d=c?setTimeout(()=>{b(),clearTimeout(d),p(new gf({id:n}))},c):void 0,await f}class gf extends M{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const Fr=256;let Wt=Fr,Zt;function li(e=11){if(!Zt||Wt+e>Fr*2){Zt="",Wt=0;for(let t=0;t<Fr;t++)Zt+=(256+Math.random()*256|0).toString(16).substring(1)}return Zt.substring(Wt,Wt+++e)}function Ts(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:a="Base Client",type:o="base"}=e,c=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),i=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(i/2),500),4e3),f=e.pollingInterval??u,l=e.cacheTime??f,p=e.account?V(e.account):void 0,{config:d,request:b,value:m}=e.transport({chain:n,pollingInterval:f}),g={...d,...m},h={account:p,batch:t,cacheTime:l,ccipRead:r,chain:n,key:s,name:a,pollingInterval:f,request:b,transport:g,type:o,uid:li(),...c?{experimental_blockTag:c}:{}};function x(w){return y=>{const v=y(w);for(const P in h)delete v[P];const E={...w,...v};return Object.assign(E,{extend:x(E)})}}return Object.assign(h,{extend:x(h)})}function bb(){return null}function As(e){var n,r,s,a,o,c;if(!(e instanceof M))return!1;const t=e.walk(i=>i instanceof Pr);return t instanceof Pr?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((a=t.data)==null?void 0:a.errorName)==="ResolverNotFound"||((o=t.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((c=t.data)==null?void 0:c.errorName)==="UnsupportedResolverProfile":!1}function wf(e){const{abi:t,data:n}=e,r=on(n,0,4),s=t.find(a=>a.type==="function"&&r===Yr(At(a)));if(!s)throw new Pc(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?gn(s.inputs,on(n,4)):void 0}}const tr="/docs/contract/encodeErrorResult";function $a(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const i=ct({abi:t,args:r,name:n});if(!i)throw new js(n,{docsPath:tr});s=i}if(s.type!=="error")throw new js(void 0,{docsPath:tr});const a=At(s),o=Yr(a);let c="0x";if(r&&r.length>0){if(!s.inputs)throw new Ic(s.name,{docsPath:tr});c=ut(s.inputs,r)}return he([o,c])}const nr="/docs/contract/encodeFunctionResult";function xf(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=ct({abi:t,name:n});if(!o)throw new it(n,{docsPath:nr});s=o}if(s.type!=="function")throw new it(void 0,{docsPath:nr});if(!s.outputs)throw new Xa(s.name,{docsPath:nr});const a=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Tc(r)})();return ut(s.outputs,a)}const Ot="x-batch-gateway:true";async function pi(e){const{data:t,ccipRequest:n}=e,{args:[r]}=wf({abi:Mr,data:t}),s=[],a=[];return await Promise.all(r.map(async(o,c)=>{try{a[c]=o.urls.includes(Ot)?await pi({data:o.data,ccipRequest:n}):await n(o),s[c]=!1}catch(i){s[c]=!0,a[c]=vf(i)}})),xf({abi:Mr,functionName:"query",result:[s,a]})}function vf(e){return e.name==="HttpRequestError"&&e.status?$a({abi:Mr,errorName:"HttpError",args:[e.status,e.shortMessage]}):$a({abi:[Ac],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function _r(e){let t=new Uint8Array(32).fill(0);if(!e)return ie(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Sc(n[r]),a=s?Ne(s):Be(Jt(n[r]),"bytes");t=Be(De([t,a]),"bytes")}return ie(t)}function Ef(e){return`[${e.slice(2)}]`}function Ss(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Jt(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let o=Jt(s[a]);o.byteLength>255&&(o=Jt(Ef(Bc(s[a])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Pf(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:a,gatewayUrls:o,strict:c}=t,{chain:i}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return pt({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),f=i==null?void 0:i.ensTlds;if(f&&!f.some(p=>a.endsWith(p)))return null;const l=s!=null?[_r(a),BigInt(s)]:[_r(a)];try{const p=de({abi:Aa,functionName:"addr",args:l}),d={address:u,abi:Xo,functionName:"resolveWithGateways",args:[$e(Ss(a)),p,o??[Ot]],blockNumber:n,blockTag:r},m=await F(e,me,"readContract")(d);if(m[0]==="0x")return null;const g=Xe({abi:Aa,args:l,functionName:"addr",data:m[0]});return g==="0x"||Ge(g)==="0x00"?null:g}catch(p){if(c)throw p;if(As(p))return null;throw p}}class If extends M{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class wt extends M{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Bs extends M{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Tf extends M{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}class Af extends M{constructor({chainId:t}){super(`Invalid ENSIP-11 chainId: ${t}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}}const Sf=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Bf=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,$f=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Cf=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function kf(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ca(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function bi({uri:e,gatewayUrls:t}){const n=$f.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ca(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Ca(t==null?void 0:t.arweave,"https://arweave.net"),a=e.match(Sf),{protocol:o,subpath:c,target:i,subtarget:u=""}=(a==null?void 0:a.groups)||{},f=o==="ipns:/"||c==="ipns/",l=o==="ipfs:/"||c==="ipfs/"||Bf.test(e);if(e.startsWith("http")&&!f&&!l){let d=e;return t!=null&&t.arweave&&(d=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:d,isOnChain:!1,isEncoded:!1}}if((f||l)&&i)return{uri:`${r}/${f?"ipns":"ipfs"}/${i}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&i)return{uri:`${s}/${i}${u||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace(Cf,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new Bs({uri:e})}function mi(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new If({data:e});return e.image||e.image_url||e.image_data}async function Nf({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await $s({gatewayUrls:e,uri:mi(n)})}catch{throw new Bs({uri:t})}}async function $s({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=bi({uri:t,gatewayUrls:e});if(r||await kf(n))return n;throw new Bs({uri:t})}function Rf(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[c,i]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new wt({reason:"Only EIP-155 supported"});if(!o)throw new wt({reason:"Chain ID not found"});if(!i)throw new wt({reason:"Contract address not found"});if(!s)throw new wt({reason:"Token ID not found"});if(!c)throw new wt({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:c.toLowerCase(),contractAddress:i,tokenID:s}}async function Mf(e,{nft:t}){if(t.namespace==="erc721")return me(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return me(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Tf({namespace:t.namespace})}async function zf(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Ff(e,{gatewayUrls:t,record:n}):$s({uri:n,gatewayUrls:t})}async function Ff(e,{gatewayUrls:t,record:n}){const r=Rf(n),s=await Mf(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:c}=bi({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=c?atob(a.replace("data:application/json;base64,","")):a,f=JSON.parse(u);return $s({uri:mi(f),gatewayUrls:t})}let i=r.tokenID;return r.namespace==="erc1155"&&(i=i.replace("0x","").padStart(64,"0")),Nf({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,i)})}async function hi(e,t){const{blockNumber:n,blockTag:r,key:s,name:a,gatewayUrls:o,strict:c}=t,{chain:i}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return pt({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),f=i==null?void 0:i.ensTlds;if(f&&!f.some(l=>a.endsWith(l)))return null;try{const l={address:u,abi:Xo,args:[$e(Ss(a)),de({abi:Ta,functionName:"text",args:[_r(a),s]}),o??[Ot]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},d=await F(e,me,"readContract")(l);if(d[0]==="0x")return null;const b=Xe({abi:Ta,functionName:"text",data:d[0]});return b===""?null:b}catch(l){if(c)throw l;if(As(l))return null;throw l}}async function _f(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:o,universalResolverAddress:c}){const i=await F(e,hi,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:c,gatewayUrls:a,strict:o});if(!i)return null;try{return await zf(e,{record:i,gatewayUrls:r})}catch{return null}}async function Of(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:a=60n,gatewayUrls:o,strict:c}=t,{chain:i}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return pt({blockNumber:r,chain:i,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:X0,args:[n,a,o??[Ot]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},l=F(e,me,"readContract"),[p]=await l(f);return p||null}catch(f){if(c)throw f;if(As(f))return null;throw f}}async function Lf(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:a}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return pt({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),c=a==null?void 0:a.ensTlds;if(c&&!c.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${c==null?void 0:c.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[i]=await F(e,me,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[$e(Ss(s))],blockNumber:n,blockTag:r});return i}async function yi(e,t){var g,h,x;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:a,data:o,gas:c,gasPrice:i,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:p,value:d,...b}=t,m=n?V(n):void 0;try{Je(t);const y=(typeof r=="bigint"?S(r):void 0)||s,v=(x=(h=(g=e.chain)==null?void 0:g.formatters)==null?void 0:h.transactionRequest)==null?void 0:x.format,P=(v||Ye)({...Nt(b,{format:v}),from:m==null?void 0:m.address,blobs:a,data:o,gas:c,gasPrice:i,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:l,to:p,value:d}),I=await e.request({method:"eth_createAccessList",params:[P,y]});return{accessList:I.accessList,gasUsed:BigInt(I.gasUsed)}}catch(w){throw ni(w,{...t,account:m,chain:e.chain})}}async function qf(e){const t=vn(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function gi(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:c}={}){const i=s??(r?[r]:void 0),u=vn(e,{method:"eth_newFilter"});let f=[];i&&(f=[i.flatMap(d=>Tt({abi:[d],eventName:d.name,args:n}))],r&&(f=f[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?S(a):a,toBlock:typeof c=="bigint"?S(c):c,...f.length?{topics:f}:{}}]});return{abi:i,args:n,eventName:r?r.name:void 0,fromBlock:a,id:l,request:u(l),strict:!!o,toBlock:c,type:"event"}}async function wi(e){const t=vn(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Uf(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?S(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function jf(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Df(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?S(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),H(a)}async function Or(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?S(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(a!=="0x")return a}class Gf extends M{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Hf(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[a,o,c,i,u,f,l]=await F(e,me,"readContract")({abi:Vf,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:c,chainId:Number(i),verifyingContract:u,salt:f},extensions:l,fields:a}}catch(a){const o=a;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new Gf({address:n}):o}}const Vf=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Wf(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Zf(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=typeof n=="bigint"?S(n):void 0,o=await e.request({method:"eth_feeHistory",params:[S(t),a||r,s]},{dedupe:!!a});return Wf(o)}async function Kf(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(a=>Re(a));return t.abi?Qr({abi:t.abi,logs:s,strict:n}):s}function mb(e,t){if(e.length!==t.length)throw new $c({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(xi(s,a))}return he(n)}function xi(e,t,n=!1){if(e==="address"){const o=t;if(!ye(o))throw new ve({address:o});return Xt(o.toLowerCase(),{size:n?32:null})}if(e==="string")return xt(t);if(e==="bytes")return t;if(e==="bool")return Xt(Cc(t),{size:n?32:1});const r=e.match(kc);if(r){const[o,c,i="256"]=r,u=Number.parseInt(i,10)/8;return S(t,{size:n?32:u,signed:c==="int"})}const s=e.match(Nc);if(s){const[o,c]=s;if(Number.parseInt(c,10)!==(t.length-2)/2)throw new Rc({expectedSize:Number.parseInt(c,10),givenSize:(t.length-2)/2});return Xt(t,{dir:"right",size:n?32:null})}const a=e.match(Mc);if(a&&Array.isArray(t)){const[o,c]=a,i=[];for(let u=0;u<t.length;u++)i.push(xi(c,t[u],!0));return i.length===0?"0x":he(i)}throw new zc(e)}function ka(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function hb(e){return e.opcode==="CREATE2"?Jf(e):Yf(e)}function Yf(e){const t=Ne(Ee(e.from));let n=Ne(e.nonce);return n[0]===0&&(n=new Uint8Array([])),Ee(`0x${Be(Me([t,n],"bytes")).slice(26)}`)}function Jf(e){const t=Ne(Ee(e.from)),n=Xt(ka(e.salt)?e.salt:Ne(e.salt),{size:32}),r="bytecodeHash"in e?ka(e.bytecodeHash)?e.bytecodeHash:Ne(e.bytecodeHash):Be(e.bytecode,"bytes");return Ee(on(Be(De([Ne("0xff"),t,n,r])),12))}function vi(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!ye(s))throw new ve({address:s});if(r<0)throw new Cn({chainId:r})}zn(e)}function Ei(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new No;for(const n of t){const r=St(n),s=H(on(n,0,1));if(r!==32)throw new h0({hash:n,size:r});if(s!==ko)throw new y0({hash:n,version:s})}}zn(e)}function zn(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Cn({chainId:t});if(s&&!ye(s))throw new ve({address:s});if(r&&r>wn)throw new Ve({maxFeePerGas:r});if(n&&r&&n>r)throw new vt({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Pi(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=e;if(t<=0)throw new Cn({chainId:t});if(a&&!ye(a))throw new ve({address:a});if(n||s)throw new M("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>wn)throw new Ve({maxFeePerGas:r})}function Ii(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:a}=e;if(a&&!ye(a))throw new ve({address:a});if(typeof t<"u"&&t<=0)throw new Cn({chainId:t});if(n||s)throw new M("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>wn)throw new Ve({maxFeePerGas:r})}function Fn(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let a=0;a<s.length;a++)if(s[a].length-2!==64)throw new Qu({storageKey:s[a]});if(!ye(r,{strict:!1}))throw new ve({address:r});t.push([r,s])}return t}function Xf(e,t){const n=Ro(e);return n==="eip1559"?td(e,t):n==="eip2930"?nd(e,t):n==="eip4844"?ed(e,t):n==="eip7702"?Qf(e,t):rd(e,t)}function Qf(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:a,to:o,value:c,maxFeePerGas:i,maxPriorityFeePerGas:u,accessList:f,data:l}=e;vi(e);const p=Fn(f),d=sd(n);return he(["0x04",Me([S(r),a?S(a):"0x",u?S(u):"0x",i?S(i):"0x",s?S(s):"0x",o??"0x",c?S(c):"0x",l??"0x",p,d,...Lt(e,t)])])}function ed(e,t){const{chainId:n,gas:r,nonce:s,to:a,value:o,maxFeePerBlobGas:c,maxFeePerGas:i,maxPriorityFeePerGas:u,accessList:f,data:l}=e;Ei(e);let p=e.blobVersionedHashes,d=e.sidecars;if(e.blobs&&(typeof p>"u"||typeof d>"u")){const w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(E=>ie(E)),y=e.kzg,v=cs({blobs:w,kzg:y});if(typeof p>"u"&&(p=Bo({commitments:v})),typeof d>"u"){const E=us({blobs:w,commitments:v,kzg:y});d=ds({blobs:w,commitments:v,proofs:E})}}const b=Fn(f),m=[S(n),s?S(s):"0x",u?S(u):"0x",i?S(i):"0x",r?S(r):"0x",a??"0x",o?S(o):"0x",l??"0x",b,c?S(c):"0x",p??[],...Lt(e,t)],g=[],h=[],x=[];if(d)for(let w=0;w<d.length;w++){const{blob:y,commitment:v,proof:E}=d[w];g.push(y),h.push(v),x.push(E)}return he(["0x03",d?Me([m,g,h,x]):Me(m)])}function td(e,t){const{chainId:n,gas:r,nonce:s,to:a,value:o,maxFeePerGas:c,maxPriorityFeePerGas:i,accessList:u,data:f}=e;zn(e);const l=Fn(u),p=[S(n),s?S(s):"0x",i?S(i):"0x",c?S(c):"0x",r?S(r):"0x",a??"0x",o?S(o):"0x",f??"0x",l,...Lt(e,t)];return he(["0x02",Me(p)])}function nd(e,t){const{chainId:n,gas:r,data:s,nonce:a,to:o,value:c,accessList:i,gasPrice:u}=e;Pi(e);const f=Fn(i),l=[S(n),a?S(a):"0x",u?S(u):"0x",r?S(r):"0x",o??"0x",c?S(c):"0x",s??"0x",f,...Lt(e,t)];return he(["0x01",Me(l)])}function rd(e,t){const{chainId:n=0,gas:r,data:s,nonce:a,to:o,value:c,gasPrice:i}=e;Ii(e);let u=[a?S(a):"0x",i?S(i):"0x",r?S(r):"0x",o??"0x",c?S(c):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const d=27n+(t.v===27n?0n:1n);if(t.v!==d)throw new xo({v:t.v});return d})(),l=Ge(t.r),p=Ge(t.s);u=[...u,S(f),l==="0x00"?"0x":l,p==="0x00"?"0x":p]}else n>0&&(u=[...u,S(n),"0x","0x"]);return Me(u)}function Lt(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const a=Ge(n.r),o=Ge(n.s);return[typeof s=="number"?s?S(1):"0x":r===0n?"0x":r===1n?S(1):r===27n?"0x":S(1),a==="0x00"?"0x":a,o==="0x00"?"0x":o]}function sd(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...a}=n,o=n.address;t.push([r?$e(r):"0x",o,s?$e(s):"0x",...Lt({},a)])}return t}async function ad({address:e,authorization:t,signature:n}){return Fe(Ee(e),await ss({authorization:t,signature:n}))}const Kt=new es(8192);function od(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Kt.get(n))return Kt.get(n);const r=e().finally(()=>Kt.delete(n));return Kt.set(n,r),r}function id(e,t={}){return async(n,r={})=>{var l;const{dedupe:s=!1,methods:a,retryDelay:o=150,retryCount:c=3,uid:i}={...t,...r},{method:u}=n;if((l=a==null?void 0:a.exclude)!=null&&l.includes(u))throw new Dt(new Error("method not supported"),{method:u});if(a!=null&&a.include&&!a.include.includes(u))throw new Dt(new Error("method not supported"),{method:u});const f=s?xt(`${i}.${X(n)}`):void 0;return od(()=>hn(async()=>{try{return await e(n)}catch(p){const d=p;switch(d.code){case ia.code:throw new ia(d);case oa.code:throw new oa(d);case aa.code:throw new aa(d,{method:n.method});case sa.code:throw new sa(d);case cn.code:throw new cn(d);case un.code:throw new un(d);case ra.code:throw new ra(d);case na.code:throw new na(d);case gr.code:throw new gr(d);case Dt.code:throw new Dt(d,{method:n.method});case yr.code:throw new yr(d);case ta.code:throw new ta(d);case Qt.code:throw new Qt(d);case ea.code:throw new ea(d);case Qs.code:throw new Qs(d);case Xs.code:throw new Xs(d);case Js.code:throw new Js(d);case Ys.code:throw new Ys(d);case mr.code:throw new mr(d);case Ks.code:throw new Ks(d);case Zs.code:throw new Zs(d);case Ws.code:throw new Ws(d);case Vs.code:throw new Vs(d);case Hs.code:throw new Hs(d);case hr.code:throw new hr(d);case 5e3:throw new Qt(d);default:throw p instanceof M?p:new eu(d)}}},{delay:({count:p,error:d})=>{var b;if(d&&d instanceof Ue){const m=(b=d==null?void 0:d.headers)==null?void 0:b.get("Retry-After");if(m!=null&&m.match(/\d/))return Number.parseInt(m,10)*1e3}return~~(1<<p)*o},retryCount:c,shouldRetry:({error:p})=>cd(p)}),{enabled:s,id:f})}}function cd(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===yr.code||e.code===cn.code:e instanceof Ue&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class ud extends M{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:a,urls:o}){var c;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(c=n.metaMessages)!=null&&c.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(i=>`    ${ao(i)}`)],`  Sender: ${a}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class fd extends M{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${ao(n)}`,`Response: ${X(t)}`],name:"OffchainLookupResponseMalformedError"})}}class dd extends M{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const ld="0x556f1830",Ti={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function pd(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:a}=Ka({data:r,abi:[Ti]}),[o,c,i,u,f]=a,{ccipRead:l}=e,p=l&&typeof(l==null?void 0:l.request)=="function"?l.request:Ai;try{if(!Fe(s,o))throw new dd({sender:o,to:s});const d=c.includes(Ot)?await pi({data:i,ccipRequest:p}):await p({data:i,sender:o,urls:c}),{data:b}=await Ft(e,{blockNumber:t,blockTag:n,data:De([u,ut([{type:"bytes"},{type:"bytes"}],[d,f])]),to:s});return b}catch(d){throw new ud({callbackSelector:u,cause:d,data:r,extraData:f,sender:o,urls:c})}}async function Ai({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let a=0;a<n.length;a++){const o=n[a],c=o.includes("{data}")?"GET":"POST",i=c==="POST"?{data:e,sender:t}:void 0,u=c==="POST"?{"Content-Type":"application/json"}:{};try{const f=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(i),headers:u,method:c});let l;if((s=f.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?l=(await f.json()).data:l=await f.text(),!f.ok){r=new Ue({body:i,details:l!=null&&l.error?X(l.error):f.statusText,headers:f.headers,status:f.status,url:o});continue}if(!q(l)){r=new fd({result:l,url:o});continue}return l}catch(f){r=new Ue({body:i,details:f.message,url:o})}}throw r}const bd=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Ai,offchainLookup:pd,offchainLookupAbiItem:Ti,offchainLookupSignature:ld},Symbol.toStringTag,{value:"Module"}));function yb({chains:e,id:t}){return e.find(n=>n.id===t)}function Si(e,t="hex"){const n=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new Fc(e);return be(e)}return e})(),r=rn(n,{recursiveReadLimit:Number.POSITIVE_INFINITY});return Bi(r,t)}function Bi(e,t="hex"){if(e.bytes.length===0)return t==="hex"?ie(e.bytes):e.bytes;const n=e.readByte();if(n<128&&e.decrementPosition(1),n<192){const s=Na(e,n,128),a=e.readBytes(s);return t==="hex"?ie(a):a}const r=Na(e,n,192);return md(e,r,t)}function Na(e,t,n){if(n===128&&t<128)return 1;if(t<=n+55)return t-n;if(t===n+55+1)return e.readUint8();if(t===n+55+2)return e.readUint16();if(t===n+55+3)return e.readUint24();if(t===n+55+4)return e.readUint32();throw new M("Invalid RLP prefix")}function md(e,t,n){const r=e.position,s=[];for(;e.position-r<t;)s.push(Bi(e,n));return s}function hd(e){return q(e)&&St(e)===32}const yd=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),$i=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),gd=$i.map(e=>(9*e+5)%16),Ci=(()=>{const n=[[$i],[gd]];for(let r=0;r<4;r++)for(let s of n)s.push(s[r].map(a=>yd[a]));return n})(),ki=Ci[0],Ni=Ci[1],Ri=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),wd=ki.map((e,t)=>e.map(n=>Ri[t][n])),xd=Ni.map((e,t)=>e.map(n=>Ri[t][n])),vd=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),Ed=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function Ra(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const Yt=new Uint32Array(16);class Pd extends nu{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:a}=this;return[t,n,r,s,a]}set(t,n,r,s,a){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=a|0}process(t,n){for(let d=0;d<16;d++,n+=4)Yt[d]=t.getUint32(n,!0);let r=this.h0|0,s=r,a=this.h1|0,o=a,c=this.h2|0,i=c,u=this.h3|0,f=u,l=this.h4|0,p=l;for(let d=0;d<5;d++){const b=4-d,m=vd[d],g=Ed[d],h=ki[d],x=Ni[d],w=wd[d],y=xd[d];for(let v=0;v<16;v++){const E=jt(r+Ra(d,a,c,u)+Yt[h[v]]+m,w[v])+l|0;r=l,l=u,u=jt(c,10)|0,c=a,a=E}for(let v=0;v<16;v++){const E=jt(s+Ra(b,o,i,f)+Yt[x[v]]+g,y[v])+p|0;s=p,p=f,f=jt(i,10)|0,i=o,o=E}}this.set(this.h1+c+f|0,this.h2+u+p|0,this.h3+l+s|0,this.h4+r+o|0,this.h0+a+i|0)}roundClean(){pr(Yt)}destroy(){this.destroyed=!0,pr(this.buffer),this.set(0,0,0,0,0)}}const Id=_c(()=>new Pd),Td=Id;function gb(e,t){const n=t||"hex",r=Td(q(e,{strict:!1})?Ne(e):e);return n==="bytes"?r:$e(r)}function Ad(e){const{source:t}=e,n=new Map,r=new es(8192),s=new Map,a=({address:o,chainId:c})=>`${o}.${c}`;return{async consume({address:o,chainId:c,client:i}){const u=a({address:o,chainId:c}),f=this.get({address:o,chainId:c,client:i});this.increment({address:o,chainId:c});const l=await f;return await t.set({address:o,chainId:c},l),r.set(u,l),l},async increment({address:o,chainId:c}){const i=a({address:o,chainId:c}),u=n.get(i)??0;n.set(i,u+1)},async get({address:o,chainId:c,client:i}){const u=a({address:o,chainId:c});let f=s.get(u);return f||(f=(async()=>{try{const p=await t.get({address:o,chainId:c,client:i}),d=r.get(u)??0;return d>0&&p<=d?d+1:(r.delete(u),p)}finally{this.reset({address:o,chainId:c})}})(),s.set(u,f)),(n.get(u)??0)+await f},reset({address:o,chainId:c}){const i=a({address:o,chainId:c});n.delete(i),s.delete(i)}}}function Sd(){return{async get(e){const{address:t,client:n}=e;return In(n,{address:t,blockTag:"pending"})},set(){}}}const wb=Ad({source:Sd()});function Bd(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Lr=Bd();function $d(e,t={}){return{async request(n){var p;const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:o=t.onResponse,timeout:c=t.timeout??1e4}=n,i={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:f,signal:l}=i;try{const d=await ro(async({signal:m})=>{const g={...i,body:Array.isArray(r)?X(r.map(y=>({jsonrpc:"2.0",id:y.id??Lr.take(),...y}))):X({jsonrpc:"2.0",id:r.id??Lr.take(),...r}),headers:{"Content-Type":"application/json",...u},method:f||"POST",signal:l||(c>0?m:null)},h=new Request(e,g),x=await(a==null?void 0:a(h,g))??{...g,url:e};return await s(x.url??e,x)},{errorInstance:new wr({body:r,url:e}),timeout:c,signal:!0});o&&await o(d);let b;if((p=d.headers.get("Content-Type"))!=null&&p.startsWith("application/json"))b=await d.json();else{b=await d.text();try{b=JSON.parse(b||"{}")}catch(m){if(d.ok)throw m;b={error:b}}}if(!d.ok)throw new Ue({body:r,details:X(b.error)||d.statusText,headers:d.headers,status:d.status,url:e});return b}catch(d){throw d instanceof Ue||d instanceof wr?d:new Ue({body:r,cause:d,url:e})}}}}const rr=new Map;async function Cd(e){const{getSocket:t,keepAlive:n=!0,key:r="socket",reconnect:s=!0,url:a}=e,{interval:o=3e4}=typeof n=="object"?n:{},{attempts:c=5,delay:i=2e3}=typeof s=="object"?s:{},u=JSON.stringify({keepAlive:n,key:r,url:a,reconnect:s});let f=rr.get(u);if(f)return f;let l=0;const{schedule:p}=Ps({id:u,fn:async()=>{const m=new Map,g=new Map;let h,x,w,y=!1;function v(){if(s&&l<c){if(y)return;y=!0,l++,x==null||x.close(),setTimeout(async()=>{await E().catch(console.error),y=!1},i)}else m.clear(),g.clear()}async function E(){const P=await t({onClose(){var I,A;for(const N of m.values())(I=N.onError)==null||I.call(N,new fn({url:a}));for(const N of g.values())(A=N.onError)==null||A.call(N,new fn({url:a}));v()},onError(I){var A,N;h=I;for(const T of m.values())(A=T.onError)==null||A.call(T,h);for(const T of g.values())(N=T.onError)==null||N.call(T,h);v()},onOpen(){h=void 0,l=0},onResponse(I){const A=I.method==="eth_subscription",N=A?I.params.subscription:I.id,T=A?g:m,k=T.get(N);k&&k.onResponse(I),A||T.delete(N)}});if(x=P,n&&(w&&clearInterval(w),w=setInterval(()=>{var I;return(I=x.ping)==null?void 0:I.call(x)},o)),s&&g.size>0){const I=g.entries();for(const[A,{onResponse:N,body:T,onError:k}]of I)T&&(g.delete(A),f==null||f.request({body:T,onResponse:N,onError:k}))}return P}return await E(),h=void 0,f={close(){w&&clearInterval(w),x.close(),rr.delete(u)},get socket(){return x},request({body:P,onError:I,onResponse:A}){h&&I&&I(h);const N=P.id??Lr.take(),T=k=>{var R;typeof k.id=="number"&&N!==k.id||(P.method==="eth_subscribe"&&typeof k.result=="string"&&g.set(k.result,{onResponse:T,onError:I,body:P}),P.method==="eth_unsubscribe"&&g.delete((R=P.params)==null?void 0:R[0]),A(k))};m.set(N,{onResponse:T,onError:I});try{x.request({body:{jsonrpc:"2.0",id:N,...P}})}catch(k){I==null||I(k)}},requestAsync({body:P,timeout:I=1e4}){return ro(()=>new Promise((A,N)=>this.request({body:P,onError:N,onResponse:A})),{errorInstance:new wr({body:P,url:a}),timeout:I})},requests:m,subscriptions:g,url:a},rr.set(u,f),[f]}}),[d,[b]]=await p();return b}async function tn(e,t={}){const{keepAlive:n,reconnect:r}=t;return Cd({async getSocket({onClose:s,onError:a,onOpen:o,onResponse:c}){const i=await Xr(()=>import("./native-CJ5et6AR.js"),[]).then(d=>d.WebSocket),u=new i(e);function f(){u.removeEventListener("close",f),u.removeEventListener("message",l),u.removeEventListener("error",a),u.removeEventListener("open",o),s()}function l({data:d}){if(!(typeof d=="string"&&d.trim().length===0))try{const b=JSON.parse(d);c(b)}catch(b){a(b)}}u.addEventListener("close",f),u.addEventListener("message",l),u.addEventListener("error",a),u.addEventListener("open",o),u.readyState===i.CONNECTING&&await new Promise((d,b)=>{u&&(u.onopen=d,u.onerror=b)});const{close:p}=u;return Object.assign(u,{close(){p.bind(u)(),f()},ping(){try{if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new ca({url:u.url,cause:new fn({url:u.url})});const d={jsonrpc:"2.0",id:null,method:"net_version",params:[]};u.send(JSON.stringify(d))}catch(d){a(d)}},request({body:d}){if(u.readyState===u.CLOSED||u.readyState===u.CLOSING)throw new ca({body:d,url:u.url,cause:new fn({url:u.url})});return u.send(JSON.stringify(d))}})},keepAlive:n,reconnect:r,url:e})}async function kd(e){const t=await tn(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}const Nd=`Ethereum Signed Message:
`;function Rd(e){const t=typeof e=="string"?xt(e):typeof e.raw=="string"?e.raw:ie(e.raw),n=xt(`${Nd}${St(t)}`);return De([n,t])}function Cs(e,t){return Be(Rd(e),t)}const Mi="0x6492649264926492649264926492649264926492649264926492649264926492",xb="0x0000000000000000000000000000000000000000000000000000000000000000";function Md(e){return an(e,-32)===Mi}class zd extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Fd={checksum:new zd(8192)},sr=Fd.checksum;function _n(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Oc(R0(e));return n==="Bytes"?r:fe(r)}function zi(e,t={}){const{compressed:n}=t,{prefix:r,x:s,y:a}=e;if(n===!1||typeof s=="bigint"&&typeof a=="bigint"){if(r!==4)throw new Ma({prefix:r,cause:new jd});return}if(n===!0||typeof s=="bigint"&&typeof a>"u"){if(r!==3&&r!==2)throw new Ma({prefix:r,cause:new Ud});return}throw new qd({publicKey:e})}function _d(e){const t=(()=>{if(Wo(e))return Fi(e);if(j0(e))return Od(e);const{prefix:n,x:r,y:s}=e;return typeof r=="bigint"&&typeof s=="bigint"?{prefix:n??4,x:r,y:s}:{prefix:n,x:r}})();return zi(t),t}function Od(e){return Fi(fe(e))}function Fi(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new Dd({publicKey:e});if(e.length===130){const r=BigInt(Y(e,0,32)),s=BigInt(Y(e,32,64));return{prefix:4,x:r,y:s}}if(e.length===132){const r=Number(Y(e,0,1)),s=BigInt(Y(e,1,33)),a=BigInt(Y(e,33,65));return{prefix:r,x:s,y:a}}const t=Number(Y(e,0,1)),n=BigInt(Y(e,1,33));return{prefix:t,x:n}}function Ld(e,t={}){zi(e);const{prefix:n,x:r,y:s}=e,{includePrefix:a=!0}=t;return ce(a?G(n,{size:1}):"0x",G(r,{size:32}),typeof s=="bigint"?G(s,{size:32}):"0x")}class qd extends L{constructor({publicKey:t}){super(`Value \`${$n(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class Ma extends L{constructor({prefix:t,cause:n}){super(`Prefix "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class Ud extends L{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class jd extends L{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}let Dd=class extends L{constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${ne(ws(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};const Gd=/^0x[a-fA-F0-9]{40}$/;function qt(e,t={}){const{strict:n=!0}=t;if(!Gd.test(e))throw new za({address:e,cause:new Wd});if(n){if(e.toLowerCase()===e)return;if(ks(e)!==e)throw new za({address:e,cause:new Zd})}}function ks(e){if(sr.has(e))return sr.get(e);qt(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=_n(z0(t),{as:"Bytes"}),r=t.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(n[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const s=`0x${r.join("")}`;return sr.set(e,s),s}function Hd(e,t={}){const{checksum:n=!1}=t;return qt(e),n?ks(e):e}function Vd(e,t={}){const n=_n(`0x${Ld(e).slice(4)}`).substring(26);return Hd(`0x${n}`,t)}function qr(e,t={}){const{strict:n=!0}=t??{};try{return qt(e,{strict:n}),!0}catch{return!1}}class za extends L{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Wd extends L{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Zd extends L{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Kd=/^(.*)\[([0-9]*)\]$/,Yd=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,_i=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Fa=2n**256n-1n;function ot(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=Ms(t.type);if(a){const[o,c]=a;return Xd(e,{...t,type:c},{checksumAddress:r,length:o,staticPosition:s})}if(t.type==="tuple")return nl(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return Jd(e,{checksum:r});if(t.type==="bool")return Qd(e);if(t.type.startsWith("bytes"))return el(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return tl(e,t);if(t.type==="string")return rl(e,{staticPosition:s});throw new zs(t.type)}const _a=32,Ur=32;function Jd(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(a=>n?ks(a):a)(fe(_0(r,-20))),32]}function Xd(e,t,n){const{checksumAddress:r,length:s,staticPosition:a}=n;if(!s){const i=Se(e.readBytes(Ur)),u=a+i,f=u+_a;e.setPosition(u);const l=Se(e.readBytes(_a)),p=It(t);let d=0;const b=[];for(let m=0;m<l;++m){e.setPosition(f+(p?m*32:d));const[g,h]=ot(e,t,{checksumAddress:r,staticPosition:f});d+=h,b.push(g)}return e.setPosition(a+32),[b,32]}if(It(t)){const i=Se(e.readBytes(Ur)),u=a+i,f=[];for(let l=0;l<s;++l){e.setPosition(u+l*32);const[p]=ot(e,t,{checksumAddress:r,staticPosition:u});f.push(p)}return e.setPosition(a+32),[f,32]}let o=0;const c=[];for(let i=0;i<s;++i){const[u,f]=ot(e,t,{checksumAddress:r,staticPosition:a+o});o+=f,c.push(u)}return[c,o]}function Qd(e){return[L0(e.readBytes(32),{size:32}),32]}function el(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=Se(e.readBytes(32));e.setPosition(n+o);const c=Se(e.readBytes(32));if(c===0)return e.setPosition(n+32),["0x",32];const i=e.readBytes(c);return e.setPosition(n+32),[fe(i),32]}return[fe(e.readBytes(Number.parseInt(s,10),32)),32]}function tl(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?O0(s,{signed:n}):Se(s,{signed:n}),32]}function nl(e,t,n){const{checksumAddress:r,staticPosition:s}=n,a=t.components.length===0||t.components.some(({name:i})=>!i),o=a?[]:{};let c=0;if(It(t)){const i=Se(e.readBytes(Ur)),u=s+i;for(let f=0;f<t.components.length;++f){const l=t.components[f];e.setPosition(u+c);const[p,d]=ot(e,l,{checksumAddress:r,staticPosition:u});c+=d,o[a?f:l==null?void 0:l.name]=p}return e.setPosition(s+32),[o,32]}for(let i=0;i<t.components.length;++i){const u=t.components[i],[f,l]=ot(e,u,{checksumAddress:r,staticPosition:s});o[a?i:u==null?void 0:u.name]=f,c+=l}return[o,c]}function rl(e,{staticPosition:t}){const n=Se(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Se(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),o=q0(Do(a));return e.setPosition(t+32),[o,32]}function sl({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Ns({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Ns({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Ms(r.type);if(s){const[a,o]=s;return ol(n,{checksumAddress:e,length:a,parameter:{...r,type:o}})}if(r.type==="tuple")return dl(n,{checksumAddress:e,parameter:r});if(r.type==="address")return al(n,{checksum:e});if(r.type==="bool")return cl(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const a=r.type.startsWith("int"),[,,o="256"]=_i.exec(r.type)??[];return ul(n,{signed:a,size:Number(o)})}if(r.type.startsWith("bytes"))return il(n,{type:r.type});if(r.type==="string")return fl(n);throw new zs(r.type)}function Rs(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:c}=e[a];o?t+=32:t+=ne(c)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:c}=e[a];o?(n.push(G(t+s,{size:32})),r.push(c),s+=ne(c)):n.push(c)}return ce(...n,...r)}function al(e,t){const{checksum:n=!1}=t;return qt(e,{strict:n}),{dynamic:!1,encoded:We(e.toLowerCase())}}function ol(e,t){const{checksumAddress:n,length:r,parameter:s}=t,a=r===null;if(!Array.isArray(e))throw new wl(e);if(!a&&e.length!==r)throw new gl({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const c=[];for(let i=0;i<e.length;i++){const u=Ns({checksumAddress:n,parameter:s,value:e[i]});u.dynamic&&(o=!0),c.push(u)}if(a||o){const i=Rs(c);if(a){const u=G(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?ce(u,i):u}}if(o)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:ce(...c.map(({encoded:i})=>i))}}function il(e,{type:t}){const[,n]=t.split("bytes"),r=ne(e);if(!n){let s=e;return r%32!==0&&(s=Ze(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:ce(We(G(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new qi({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ze(e)}}function cl(e){if(typeof e!="boolean")throw new L(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:We(Go(e))}}function ul(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Zo({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:G(e,{size:32,signed:t})}}function fl(e){const t=xs(e),n=Math.ceil(ne(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ze(Y(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:ce(Ze(G(ne(t),{size:32})),...r)}}function dl(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const a=[];for(let o=0;o<r.components.length;o++){const c=r.components[o],i=Array.isArray(e)?o:c.name,u=Ns({checksumAddress:n,parameter:c,value:e[i]});a.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Rs(a):ce(...a.map(({encoded:o})=>o))}}function Ms(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function It(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(It);const n=Ms(e.type);return!!(n&&It({...e,type:n[1]}))}const ll={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new bl({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new pl({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Oa({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Oa({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Oi(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(ll);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Oa extends L{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class pl extends L{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class bl extends L{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function ml(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,a=typeof t=="string"?gs(t):t,o=Oi(a);if(rt(a)===0&&e.length>0)throw new yl;if(rt(a)&&rt(a)<32)throw new hl({data:typeof t=="string"?t:fe(t),parameters:e,size:rt(a)});let c=0;const i=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];o.setPosition(c);const[l,p]=ot(o,f,{checksumAddress:s,staticPosition:0});c+=p,r==="Array"?i.push(l):i[f.name??u]=l}return i}function On(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Ui({expectedLength:e.length,givenLength:t.length});const s=sl({checksumAddress:r,parameters:e,values:t}),a=Rs(s);return a.length===0?"0x":a}function jr(e,t){if(e.length!==t.length)throw new Ui({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(jr.encode(s,a))}return ce(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const i=r;return qt(i),We(i.toLowerCase(),s?32:0)}if(n==="string")return xs(r);if(n==="bytes")return r;if(n==="bool")return We(Go(r),s?32:1);const a=n.match(_i);if(a){const[i,u,f="256"]=a,l=Number.parseInt(f,10)/8;return G(r,{size:s?32:l,signed:u==="int"})}const o=n.match(Yd);if(o){const[i,u]=o;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new qi({expectedSize:Number.parseInt(u,10),value:r});return Ze(r,s?32:0)}const c=n.match(Kd);if(c&&Array.isArray(r)){const[i,u]=c,f=[];for(let l=0;l<r.length;l++)f.push(t(u,r[l],!0));return f.length===0?"0x":ce(...f)}throw new zs(n)}e.encode=t})(jr||(jr={}));function Li(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?fa(e):e}class hl extends L{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Lc(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class yl extends L{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class gl extends L{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class qi extends L{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ne(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Ui extends L{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class wl extends L{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class zs extends L{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function xl(e,t){const{as:n}=t,r=ji(e),s=Oi(new Uint8Array(r.length));return r.encode(s),n==="Hex"?fe(s.bytes):s.bytes}function vl(e,t={}){const{as:n="Hex"}=t;return xl(e,{as:n})}function ji(e){return Array.isArray(e)?El(e.map(t=>ji(t))):Pl(e)}function El(e){const t=e.reduce((s,a)=>s+a.length,0),n=Di(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:a}of e)a(s)}}}function Pl(e){const t=typeof e=="string"?gs(e):e,n=Di(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Di(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new L("Length is too large.")}class Gi extends qc{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Uc(t);const r=jc(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=t.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),pr(a)}update(t){return Ds(this),this.iHash.update(t),this}digestInto(t){Ds(this),Dc(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:o,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=a,t.blockLen=o,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Hi=(e,t,n)=>new Gi(e,t).update(n).digest();Hi.create=(e,t)=>new Gi(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ae=BigInt(0),te=BigInt(1),qe=BigInt(2),Il=BigInt(3),Vi=BigInt(4),Wi=BigInt(5),Zi=BigInt(8);function se(e,t){const n=e%t;return n>=ae?n:t+n}function le(e,t,n){let r=e;for(;t-- >ae;)r*=r,r%=n;return r}function Dr(e,t){if(e===ae)throw new Error("invert: expected non-zero number");if(t<=ae)throw new Error("invert: expected positive modulus, got "+t);let n=se(e,t),r=t,s=ae,a=te;for(;n!==ae;){const c=r/n,i=r%n,u=s-a*c;r=n,n=i,s=a,a=u}if(r!==te)throw new Error("invert: does not exist");return se(s,t)}function Ki(e,t){const n=(e.ORDER+te)/Vi,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Tl(e,t){const n=(e.ORDER-Wi)/Zi,r=e.mul(t,qe),s=e.pow(r,n),a=e.mul(t,s),o=e.mul(e.mul(a,qe),s),c=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(c),t))throw new Error("Cannot find square root");return c}function Al(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-te,n=0;for(;t%qe===ae;)t/=qe,n++;let r=qe;const s=Fs(e);for(;La(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Ki;let a=s.pow(r,t);const o=(t+te)/qe;return function(i,u){if(i.is0(u))return u;if(La(i,u)!==1)throw new Error("Cannot find square root");let f=n,l=i.mul(i.ONE,a),p=i.pow(u,t),d=i.pow(u,o);for(;!i.eql(p,i.ONE);){if(i.is0(p))return i.ZERO;let b=1,m=i.sqr(p);for(;!i.eql(m,i.ONE);)if(b++,m=i.sqr(m),b===f)throw new Error("Cannot find square root");const g=te<<BigInt(f-b-1),h=i.pow(l,g);f=b,l=i.sqr(h),p=i.mul(p,l),d=i.mul(d,h)}return d}}function Sl(e){return e%Vi===Il?Ki:e%Zi===Wi?Tl:Al(e)}const Bl=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $l(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Bl.reduce((r,s)=>(r[s]="function",r),t);return Sn(e,n)}function Cl(e,t,n){if(n<ae)throw new Error("invalid exponent, negatives unsupported");if(n===ae)return e.ONE;if(n===te)return t;let r=e.ONE,s=t;for(;n>ae;)n&te&&(r=e.mul(r,s)),s=e.sqr(s),n>>=te;return r}function Yi(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,c,i)=>e.is0(c)?o:(r[i]=o,e.mul(o,c)),e.ONE),a=e.inv(s);return t.reduceRight((o,c,i)=>e.is0(c)?o:(r[i]=e.mul(o,r[i]),e.mul(o,c)),a),r}function La(e,t){const n=(e.ORDER-te)/qe,r=e.pow(t,n),s=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!a&&!o)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function Ji(e,t){t!==void 0&&Gc(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Fs(e,t,n=!1,r={}){if(e<=ae)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:a}=Ji(e,t);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const c=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:a,MASK:An(s),ZERO:ae,ONE:te,create:i=>se(i,e),isValid:i=>{if(typeof i!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof i);return ae<=i&&i<e},is0:i=>i===ae,isOdd:i=>(i&te)===te,neg:i=>se(-i,e),eql:(i,u)=>i===u,sqr:i=>se(i*i,e),add:(i,u)=>se(i+u,e),sub:(i,u)=>se(i-u,e),mul:(i,u)=>se(i*u,e),pow:(i,u)=>Cl(c,i,u),div:(i,u)=>se(i*Dr(u,e),e),sqrN:i=>i*i,addN:(i,u)=>i+u,subN:(i,u)=>i-u,mulN:(i,u)=>i*u,inv:i=>Dr(i,e),sqrt:r.sqrt||(i=>(o||(o=Sl(e)),o(c,i))),toBytes:i=>n?Lo(i,a):Mt(i,a),fromBytes:i=>{if(i.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+i.length);return n?Oo(i):je(i)},invertBatch:i=>Yi(c,i),cmov:(i,u,f)=>f?u:i});return Object.freeze(c)}function Xi(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Qi(e){const t=Xi(e);return t+Math.ceil(t/2)}function kl(e,t,n=!1){const r=e.length,s=Xi(t),a=Qi(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const o=n?Oo(e):je(e),c=se(o,t-te)+te;return n?Lo(c,s):Mt(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qa=BigInt(0),Gr=BigInt(1);function ar(e,t){const n=t.negate();return e?n:t}function ec(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function or(e,t){ec(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,a=An(e),o=BigInt(e);return{windows:n,windowSize:r,mask:a,maxNumber:s,shiftBy:o}}function Ua(e,t,n){const{windowSize:r,mask:s,maxNumber:a,shiftBy:o}=n;let c=Number(e&s),i=e>>o;c>r&&(c-=a,i+=Gr);const u=t*r,f=u+Math.abs(c)-1,l=c===0,p=c<0,d=t%2!==0;return{nextN:i,offset:f,isZero:l,isNeg:p,isNegF:d,offsetF:u}}function Nl(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Rl(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const ir=new WeakMap,tc=new WeakMap;function cr(e){return tc.get(e)||1}function Ml(e,t){return{constTimeNegate:ar,hasPrecomputes(n){return cr(n)!==1},unsafeLadder(n,r,s=e.ZERO){let a=n;for(;r>qa;)r&Gr&&(s=s.add(a)),a=a.double(),r>>=Gr;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=or(r,t),o=[];let c=n,i=c;for(let u=0;u<s;u++){i=c,o.push(i);for(let f=1;f<a;f++)i=i.add(c),o.push(i);c=i.double()}return o},wNAF(n,r,s){let a=e.ZERO,o=e.BASE;const c=or(n,t);for(let i=0;i<c.windows;i++){const{nextN:u,offset:f,isZero:l,isNeg:p,isNegF:d,offsetF:b}=Ua(s,i,c);s=u,l?o=o.add(ar(d,r[b])):a=a.add(ar(p,r[f]))}return{p:a,f:o}},wNAFUnsafe(n,r,s,a=e.ZERO){const o=or(n,t);for(let c=0;c<o.windows&&s!==qa;c++){const{nextN:i,offset:u,isZero:f,isNeg:l}=Ua(s,c,o);if(s=i,!f){const p=r[u];a=a.add(l?p.negate():p)}}return a},getPrecomputes(n,r,s){let a=ir.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&ir.set(r,s(a))),a},wNAFCached(n,r,s){const a=cr(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const o=cr(n);return o===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,a)},setWindowSize(n,r){ec(r,t),tc.set(n,r),ir.delete(n)}}}function zl(e,t,n,r){Nl(n,e),Rl(r,t);const s=n.length,a=r.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,c=x0(BigInt(s));let i=1;c>12?i=c-3:c>4?i=c-2:c>0&&(i=2);const u=An(i),f=new Array(Number(u)+1).fill(o),l=Math.floor((t.BITS-1)/i)*i;let p=o;for(let d=l;d>=0;d-=i){f.fill(o);for(let m=0;m<a;m++){const g=r[m],h=Number(g>>BigInt(d)&u);f[h]=f[h].add(n[m])}let b=o;for(let m=f.length-1,g=o;m>0;m--)g=g.add(f[m]),b=b.add(g);if(p=p.add(b),d!==0)for(let m=0;m<i;m++)p=p.double()}return p}function nc(e){return $l(e.Fp),Sn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ji(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ja(e){e.lowS!==void 0&&Et("lowS",e.lowS),e.prehash!==void 0&&Et("prehash",e.prehash)}function Fl(e){const t=nc(e);Sn(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class _l extends Error{constructor(t=""){super(t)}}const Te={Err:_l,_tlv:{encode:(e,t)=>{const{Err:n}=Te;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Gt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?Gt(s.length/2|128):"";return Gt(e)+a+s+t},decode(e,t){const{Err:n}=Te;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],a=!!(s&128);let o=0;if(!a)o=s;else{const i=s&127;if(!i)throw new n("tlv.decode(long): indefinite length not supported");if(i>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+i);if(u.length!==i)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)o=o<<8|f;if(r+=i,o<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+o);if(c.length!==o)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Te;if(e<Ae)throw new t("integer: negative integers are not allowed");let n=Gt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Te;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return je(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Te,s=pe("signature",e),{v:a,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:i}=r.decode(2,a),{v:u,l:f}=r.decode(2,i);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Te,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),a=r+s;return t.encode(48,a)}};function ur(e,t){return Pt(Mt(e,t))}const Ae=BigInt(0),K=BigInt(1);BigInt(2);const fr=BigInt(3),Ol=BigInt(4);function Ll(e){const t=Fl(e),{Fp:n}=t,r=Fs(t.n,t.nBitLength),s=t.toBytes||((w,y,v)=>{const E=y.toAffine();return pn(Uint8Array.from([4]),n.toBytes(E.x),n.toBytes(E.y))}),a=t.fromBytes||(w=>{const y=w.subarray(1),v=n.fromBytes(y.subarray(0,n.BYTES)),E=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:v,y:E}});function o(w){const{a:y,b:v}=t,E=n.sqr(w),P=n.mul(E,w);return n.add(n.add(P,n.mul(w,y)),v)}function c(w,y){const v=n.sqr(y),E=o(w);return n.eql(v,E)}if(!c(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const i=n.mul(n.pow(t.a,fr),Ol),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(i,u)))throw new Error("bad curve params: a or b");function f(w){return ys(w,K,t.n)}function l(w){const{allowedPrivateKeyLengths:y,nByteLength:v,wrapPrivateKey:E,n:P}=t;if(y&&typeof w!="bigint"){if(Rt(w)&&(w=Pt(w)),typeof w!="string"||!y.includes(w.length))throw new Error("invalid private key");w=w.padStart(v*2,"0")}let I;try{I=typeof w=="bigint"?w:je(pe("private key",w,v))}catch{throw new Error("invalid private key, expected hex or "+v+" bytes, got "+typeof w)}return E&&(I=se(I,P)),at("private key",I,K,P),I}function p(w){if(!(w instanceof m))throw new Error("ProjectivePoint expected")}const d=xa((w,y)=>{const{px:v,py:E,pz:P}=w;if(n.eql(P,n.ONE))return{x:v,y:E};const I=w.is0();y==null&&(y=I?n.ONE:n.inv(P));const A=n.mul(v,y),N=n.mul(E,y),T=n.mul(P,y);if(I)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:A,y:N}}),b=xa(w=>{if(w.is0()){if(t.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:y,y:v}=w.toAffine();if(!n.isValid(y)||!n.isValid(v))throw new Error("bad point: x or y not FE");if(!c(y,v))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(y,v,E){if(y==null||!n.isValid(y))throw new Error("x required");if(v==null||!n.isValid(v)||n.is0(v))throw new Error("y required");if(E==null||!n.isValid(E))throw new Error("z required");this.px=y,this.py=v,this.pz=E,Object.freeze(this)}static fromAffine(y){const{x:v,y:E}=y||{};if(!y||!n.isValid(v)||!n.isValid(E))throw new Error("invalid affine point");if(y instanceof m)throw new Error("projective point not allowed");const P=I=>n.eql(I,n.ZERO);return P(v)&&P(E)?m.ZERO:new m(v,E,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const v=Yi(n,y.map(E=>E.pz));return y.map((E,P)=>E.toAffine(v[P])).map(m.fromAffine)}static fromHex(y){const v=m.fromAffine(a(pe("pointHex",y)));return v.assertValidity(),v}static fromPrivateKey(y){return m.BASE.multiply(l(y))}static msm(y,v){return zl(m,r,y,v)}_setWindowSize(y){x.setWindowSize(this,y)}assertValidity(){b(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){p(y);const{px:v,py:E,pz:P}=this,{px:I,py:A,pz:N}=y,T=n.eql(n.mul(v,N),n.mul(I,P)),k=n.eql(n.mul(E,N),n.mul(A,P));return T&&k}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:v}=t,E=n.mul(v,fr),{px:P,py:I,pz:A}=this;let N=n.ZERO,T=n.ZERO,k=n.ZERO,R=n.mul(P,P),U=n.mul(I,I),$=n.mul(A,A),C=n.mul(P,I);return C=n.add(C,C),k=n.mul(P,A),k=n.add(k,k),N=n.mul(y,k),T=n.mul(E,$),T=n.add(N,T),N=n.sub(U,T),T=n.add(U,T),T=n.mul(N,T),N=n.mul(C,N),k=n.mul(E,k),$=n.mul(y,$),C=n.sub(R,$),C=n.mul(y,C),C=n.add(C,k),k=n.add(R,R),R=n.add(k,R),R=n.add(R,$),R=n.mul(R,C),T=n.add(T,R),$=n.mul(I,A),$=n.add($,$),R=n.mul($,C),N=n.sub(N,R),k=n.mul($,U),k=n.add(k,k),k=n.add(k,k),new m(N,T,k)}add(y){p(y);const{px:v,py:E,pz:P}=this,{px:I,py:A,pz:N}=y;let T=n.ZERO,k=n.ZERO,R=n.ZERO;const U=t.a,$=n.mul(t.b,fr);let C=n.mul(v,I),_=n.mul(E,A),B=n.mul(P,N),z=n.add(v,E),O=n.add(I,A);z=n.mul(z,O),O=n.add(C,_),z=n.sub(z,O),O=n.add(v,P);let j=n.add(I,N);return O=n.mul(O,j),j=n.add(C,B),O=n.sub(O,j),j=n.add(E,P),T=n.add(A,N),j=n.mul(j,T),T=n.add(_,B),j=n.sub(j,T),R=n.mul(U,O),T=n.mul($,B),R=n.add(T,R),T=n.sub(_,R),R=n.add(_,R),k=n.mul(T,R),_=n.add(C,C),_=n.add(_,C),B=n.mul(U,B),O=n.mul($,O),_=n.add(_,B),B=n.sub(C,B),B=n.mul(U,B),O=n.add(O,B),C=n.mul(_,O),k=n.add(k,C),C=n.mul(j,O),T=n.mul(z,T),T=n.sub(T,C),C=n.mul(z,_),R=n.mul(j,R),R=n.add(R,C),new m(T,k,R)}subtract(y){return this.add(y.negate())}is0(){return this.equals(m.ZERO)}wNAF(y){return x.wNAFCached(this,y,m.normalizeZ)}multiplyUnsafe(y){const{endo:v,n:E}=t;at("scalar",y,Ae,E);const P=m.ZERO;if(y===Ae)return P;if(this.is0()||y===K)return this;if(!v||x.hasPrecomputes(this))return x.wNAFCachedUnsafe(this,y,m.normalizeZ);let{k1neg:I,k1:A,k2neg:N,k2:T}=v.splitScalar(y),k=P,R=P,U=this;for(;A>Ae||T>Ae;)A&K&&(k=k.add(U)),T&K&&(R=R.add(U)),U=U.double(),A>>=K,T>>=K;return I&&(k=k.negate()),N&&(R=R.negate()),R=new m(n.mul(R.px,v.beta),R.py,R.pz),k.add(R)}multiply(y){const{endo:v,n:E}=t;at("scalar",y,K,E);let P,I;if(v){const{k1neg:A,k1:N,k2neg:T,k2:k}=v.splitScalar(y);let{p:R,f:U}=this.wNAF(N),{p:$,f:C}=this.wNAF(k);R=x.constTimeNegate(A,R),$=x.constTimeNegate(T,$),$=new m(n.mul($.px,v.beta),$.py,$.pz),P=R.add($),I=U.add(C)}else{const{p:A,f:N}=this.wNAF(y);P=A,I=N}return m.normalizeZ([P,I])[0]}multiplyAndAddUnsafe(y,v,E){const P=m.BASE,I=(N,T)=>T===Ae||T===K||!N.equals(P)?N.multiplyUnsafe(T):N.multiply(T),A=I(this,v).add(I(y,E));return A.is0()?void 0:A}toAffine(y){return d(this,y)}isTorsionFree(){const{h:y,isTorsionFree:v}=t;if(y===K)return!0;if(v)return v(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:v}=t;return y===K?this:v?v(m,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return Et("isCompressed",y),this.assertValidity(),s(m,this,y)}toHex(y=!0){return Et("isCompressed",y),Pt(this.toRawBytes(y))}}m.BASE=new m(t.Gx,t.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:h}=t,x=Ml(m,g?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:f}}function ql(e){const t=nc(e);return Sn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Ul(e){const t=ql(e),{Fp:n,n:r,nByteLength:s,nBitLength:a}=t,o=n.BYTES+1,c=2*n.BYTES+1;function i($){return se($,r)}function u($){return Dr($,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:p,isWithinCurveOrder:d}=Ll({...t,toBytes($,C,_){const B=C.toAffine(),z=n.toBytes(B.x),O=pn;return Et("isCompressed",_),_?O(Uint8Array.from([C.hasEvenY()?2:3]),z):O(Uint8Array.from([4]),z,n.toBytes(B.y))},fromBytes($){const C=$.length,_=$[0],B=$.subarray(1);if(C===o&&(_===2||_===3)){const z=je(B);if(!ys(z,K,n.ORDER))throw new Error("Point is not on curve");const O=p(z);let j;try{j=n.sqrt(O)}catch(J){const Z=J instanceof Error?": "+J.message:"";throw new Error("Point is not on curve"+Z)}const W=(j&K)===K;return(_&1)===1!==W&&(j=n.neg(j)),{x:z,y:j}}else if(C===c&&_===4){const z=n.fromBytes(B.subarray(0,n.BYTES)),O=n.fromBytes(B.subarray(n.BYTES,2*n.BYTES));return{x:z,y:O}}else{const z=o,O=c;throw new Error("invalid Point, expected length of "+z+", or uncompressed "+O+", got "+C)}}});function b($){const C=r>>K;return $>C}function m($){return b($)?i(-$):$}const g=($,C,_)=>je($.slice(C,_));class h{constructor(C,_,B){at("r",C,K,r),at("s",_,K,r),this.r=C,this.s=_,B!=null&&(this.recovery=B),Object.freeze(this)}static fromCompact(C){const _=s;return C=pe("compactSignature",C,_*2),new h(g(C,0,_),g(C,_,2*_))}static fromDER(C){const{r:_,s:B}=Te.toSig(pe("DER",C));return new h(_,B)}assertValidity(){}addRecoveryBit(C){return new h(this.r,this.s,C)}recoverPublicKey(C){const{r:_,s:B,recovery:z}=this,O=P(pe("msgHash",C));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const j=z===2||z===3?_+t.n:_;if(j>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=z&1?"03":"02",Q=f.fromHex(W+ur(j,n.BYTES)),J=u(j),Z=i(-O*J),ee=i(B*J),ke=f.BASE.multiplyAndAddUnsafe(Q,Z,ee);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return ln(this.toDERHex())}toDERHex(){return Te.hexFromSig(this)}toCompactRawBytes(){return ln(this.toCompactHex())}toCompactHex(){const C=s;return ur(this.r,C)+ur(this.s,C)}}const x={isValidPrivateKey($){try{return l($),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const $=Qi(t.n);return kl(t.randomBytes($),t.n)},precompute($=8,C=f.BASE){return C._setWindowSize($),C.multiply(BigInt(3)),C}};function w($,C=!0){return f.fromPrivateKey($).toRawBytes(C)}function y($){if(typeof $=="bigint")return!1;if($ instanceof f)return!0;const _=pe("key",$).length,B=n.BYTES,z=B+1,O=2*B+1;if(!(t.allowedPrivateKeyLengths||s===z))return _===z||_===O}function v($,C,_=!0){if(y($)===!0)throw new Error("first arg must be private key");if(y(C)===!1)throw new Error("second arg must be public key");return f.fromHex(C).multiply(l($)).toRawBytes(_)}const E=t.bits2int||function($){if($.length>8192)throw new Error("input is too large");const C=je($),_=$.length*8-a;return _>0?C>>BigInt(_):C},P=t.bits2int_modN||function($){return i(E($))},I=An(a);function A($){return at("num < 2^"+a,$,Ae,I),Mt($,s)}function N($,C,_=T){if(["recovered","canonical"].some(_e=>_e in _))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:z}=t;let{lowS:O,prehash:j,extraEntropy:W}=_;O==null&&(O=!0),$=pe("msgHash",$),ja(_),j&&($=pe("prehashed msgHash",B($)));const Q=P($),J=l(C),Z=[A(J),A(Q)];if(W!=null&&W!==!1){const _e=W===!0?z(n.BYTES):W;Z.push(pe("extraEntropy",_e))}const ee=pn(...Z),ke=Q;function Gn(_e){const et=E(_e);if(!d(et))return;const Hn=u(et),ht=f.BASE.multiply(et).toAffine(),Oe=i(ht.x);if(Oe===Ae)return;const yt=i(Hn*i(ke+Oe*J));if(yt===Ae)return;let gt=(ht.x===Oe?0:2)|Number(ht.y&K),tt=yt;return O&&b(yt)&&(tt=m(yt),gt^=1),new h(Oe,tt,gt)}return{seed:ee,k2sig:Gn}}const T={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};function R($,C,_=T){const{seed:B,k2sig:z}=N($,C,_),O=t;return v0(O.hash.outputLen,O.nByteLength,O.hmac)(B,z)}f.BASE._setWindowSize(8);function U($,C,_,B=k){var gt;const z=$;C=pe("msgHash",C),_=pe("publicKey",_);const{lowS:O,prehash:j,format:W}=B;if(ja(B),"strict"in B)throw new Error("options.strict was renamed to lowS");if(W!==void 0&&W!=="compact"&&W!=="der")throw new Error("format must be compact or der");const Q=typeof z=="string"||Rt(z),J=!Q&&!W&&typeof z=="object"&&z!==null&&typeof z.r=="bigint"&&typeof z.s=="bigint";if(!Q&&!J)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Z,ee;try{if(J&&(Z=new h(z.r,z.s)),Q){try{W!=="compact"&&(Z=h.fromDER(z))}catch(tt){if(!(tt instanceof Te.Err))throw tt}!Z&&W!=="der"&&(Z=h.fromCompact(z))}ee=f.fromHex(_)}catch{return!1}if(!Z||O&&Z.hasHighS())return!1;j&&(C=t.hash(C));const{r:ke,s:Gn}=Z,_e=P(C),et=u(Gn),Hn=i(_e*et),ht=i(ke*et),Oe=(gt=f.BASE.multiplyAndAddUnsafe(ee,Hn,ht))==null?void 0:gt.toAffine();return Oe?i(Oe.x)===ke:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:v,sign:R,verify:U,ProjectivePoint:f,Signature:h,utils:x}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jl(e){return{hash:e,hmac:(t,...n)=>Hi(e,t,Vc(...n)),randomBytes:Hc}}function Dl(e,t){const n=r=>Ul({...e,...jl(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rc=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Da=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Gl=BigInt(0),Hl=BigInt(1),Hr=BigInt(2),Ga=(e,t)=>(e+t/Hr)/t;function Vl(e){const t=rc,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),o=BigInt(23),c=BigInt(44),i=BigInt(88),u=e*e*e%t,f=u*u*e%t,l=le(f,n,t)*f%t,p=le(l,n,t)*f%t,d=le(p,Hr,t)*u%t,b=le(d,s,t)*d%t,m=le(b,a,t)*b%t,g=le(m,c,t)*m%t,h=le(g,i,t)*g%t,x=le(h,c,t)*m%t,w=le(x,n,t)*f%t,y=le(w,o,t)*b%t,v=le(y,r,t)*u%t,E=le(v,Hr,t);if(!Vr.eql(Vr.sqr(E),e))throw new Error("Cannot find square root");return E}const Vr=Fs(rc,void 0,void 0,{sqrt:Vl}),mt=Dl({a:Gl,b:BigInt(7),Fp:Vr,n:Da,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Da,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Hl*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,o=BigInt("0x100000000000000000000000000000000"),c=Ga(a*e,t),i=Ga(-r*e,t);let u=se(e-c*n-i*s,t),f=se(-c*r-i*a,t);const l=u>o,p=f>o;if(l&&(u=t-u),p&&(f=t-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:p,k2:f}}}},ru),Wl=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:mt},Symbol.toStringTag,{value:"Module"}));function sc(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new dr({signature:e});if(typeof e.s>"u")throw new dr({signature:e});if(n&&typeof e.yParity>"u")throw new dr({signature:e});if(e.r<0n||e.r>Fa)throw new Ql({value:e.r});if(e.s<0n||e.s>Fa)throw new e1({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Os({value:e.yParity})}function Zl(e){return ac(fe(e))}function ac(e){if(e.length!==130&&e.length!==132)throw new Xl({signature:e});const t=BigInt(Y(e,0,32)),n=BigInt(Y(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return _s(s)}catch{throw new Os({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function oc(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return ic(e)}function ic(e){const t=typeof e=="string"?ac(e):e instanceof Uint8Array?Zl(e):typeof e.r=="string"?Yl(e):e.v?Kl(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return sc(t),t}function Kl(e){return{r:e.r,s:e.s,yParity:_s(e.v)}}function Yl(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=_s(n)),typeof r!="number")throw new Os({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Jl(e){const{r:t,s:n,yParity:r}=e;return[r?"0x01":"0x",t===0n?"0x":Ea(G(t)),n===0n?"0x":Ea(G(n))]}function _s(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new t1({value:e})}class Xl extends L{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${ne(ws(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class dr extends L{constructor({signature:t}){super(`Signature \`${$n(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Ql extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class e1 extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Os extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class t1 extends L{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function n1(e,t={}){return typeof e.chainId=="string"?r1(e):{...e,...t.signature}}function r1(e){const{address:t,chainId:n,nonce:r}=e,s=oc(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}function s1(e){return a1(e,{presign:!0})}function a1(e,t={}){const{presign:n}=t;return _n(ce("0x05",vl(o1(n?{address:e.address,chainId:e.chainId,nonce:e.nonce}:e))))}function o1(e){const{address:t,chainId:n,nonce:r}=e,s=oc(e);return[n?G(n):"0x",t,r?G(r):"0x",...s?Jl(s):[]]}function i1(e){return Vd(c1(e))}function c1(e){const{payload:t,signature:n}=e,{r,s,yParity:a}=n,c=new mt.Signature(BigInt(r),BigInt(s)).addRecoveryBit(a).recoverPublicKey(ws(t).substring(2));return _d(c)}const cc="0x8010801080108010801080108010801080108010801080108010801080108010",uc=Li("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Ls(e){if(typeof e=="string"){if(Y(e,-32)!==cc)throw new f1(e)}else sc(e.authorization)}function fc(e){Ls(e);const t=Vo(Y(e,-64,-32)),n=Y(e,-t-64,-64),r=Y(e,0,-t-64),[s,a,o]=ml(uc,n);return{authorization:n1({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&o!=="0x"?{data:o,to:a}:{}}}function u1(e){const{data:t,signature:n}=e;Ls(e);const r=i1({payload:s1(e.authorization),signature:ic(e.authorization)}),s=On(uc,[{...e.authorization,delegation:e.authorization.address,chainId:BigInt(e.authorization.chainId)},e.to??r,t??"0x"]),a=G(ne(s),{size:32});return ce(n,s,a,cc)}function dc(e){try{return Ls(e),!0}catch{return!1}}let f1=class extends L{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function d1(e){return dc(e)}function Pb(e){if(!Md(e))return{signature:e};const[t,n,r]=gn([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:n,signature:r}}function Ib(e){if(!d1(e))return{signature:e};const{authorization:t,to:n,...r}=fc(e);return{authorization:{address:t.address,chainId:t.chainId,nonce:Number(t.nonce),r:S(t.r,{size:32}),s:S(t.s,{size:32}),yParity:t.yParity},...n?{address:n}:{},...r}}async function l1({message:e,signature:t}){return dt({hash:Cs(e),signature:t})}async function p1(e){const{domain:t,message:n,primaryType:r,signature:s,types:a}=e;return dt({hash:so({domain:t,message:n,primaryType:r,types:a}),signature:s})}function Tb(e){const{address:t,data:n,signature:r,to:s="hex"}=e,a=he([ut([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Mi]);return s==="hex"?a:be(a)}function Ab(e){const{address:t,data:n,signature:r,to:s="hex"}=e,a=u1({authorization:{address:e.authorization.address,chainId:e.authorization.chainId,nonce:BigInt(e.authorization.nonce),r:BigInt(e.authorization.r),s:BigInt(e.authorization.s),yParity:e.authorization.yParity},data:n,signature:r,to:t});return s==="hex"?a:be(a)}async function Sb({address:e,hash:t,signature:n}){return Fe(Ee(e),await dt({hash:t,signature:n}))}async function Bb({address:e,message:t,signature:n}){return Fe(Ee(e),await l1({message:t,signature:n}))}async function $b(e){const{address:t,domain:n,message:r,primaryType:s,signature:a,types:o}=e;return Fe(Ee(t),await p1({domain:n,message:r,primaryType:s,signature:a,types:o}))}function b1(e){const t=an(e,0,1);if(t==="0x04")return"eip7702";if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&H(t)>=192)return"legacy";throw new Xu({serializedType:t})}function m1(e){const t=b1(e);return t==="eip1559"?g1(e):t==="eip2930"?w1(e):t==="eip4844"?y1(e):t==="eip7702"?h1(e):x1(e)}function h1(e){const t=Ln(e),[n,r,s,a,o,c,i,u,f,l,p,d,b]=t;if(t.length!==10&&t.length!==13)throw new Ct({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:a,gas:o,to:c,value:i,data:u,accessList:f,authorizationList:l,...t.length>9?{v:p,r:d,s:b}:{}},serializedTransaction:e,type:"eip7702"});const m={chainId:H(n),type:"eip7702"};return q(c)&&c!=="0x"&&(m.to=c),q(o)&&o!=="0x"&&(m.gas=D(o)),q(u)&&u!=="0x"&&(m.data=u),q(r)&&(m.nonce=r==="0x"?0:H(r)),q(i)&&i!=="0x"&&(m.value=D(i)),q(a)&&a!=="0x"&&(m.maxFeePerGas=D(a)),q(s)&&s!=="0x"&&(m.maxPriorityFeePerGas=D(s)),f.length!==0&&f!=="0x"&&(m.accessList=qn(f)),l.length!==0&&l!=="0x"&&(m.authorizationList=v1(l)),vi(m),{...t.length===13?Ut(t):void 0,...m}}function y1(e){const t=Ln(e),n=t.length===4,r=n?t[0]:t,s=n?t.slice(1):[],[a,o,c,i,u,f,l,p,d,b,m,g,h,x]=r,[w,y,v]=s;if(!(r.length===11||r.length===14))throw new Ct({attributes:{chainId:a,nonce:o,maxPriorityFeePerGas:c,maxFeePerGas:i,gas:u,to:f,value:l,data:p,accessList:d,...r.length>9?{v:g,r:h,s:x}:{}},serializedTransaction:e,type:"eip4844"});const E={blobVersionedHashes:m,chainId:H(a),type:"eip4844"};return q(f)&&f!=="0x"&&(E.to=f),q(u)&&u!=="0x"&&(E.gas=D(u)),q(p)&&p!=="0x"&&(E.data=p),q(o)&&(E.nonce=o==="0x"?0:H(o)),q(l)&&l!=="0x"&&(E.value=D(l)),q(b)&&b!=="0x"&&(E.maxFeePerBlobGas=D(b)),q(i)&&i!=="0x"&&(E.maxFeePerGas=D(i)),q(c)&&c!=="0x"&&(E.maxPriorityFeePerGas=D(c)),d.length!==0&&d!=="0x"&&(E.accessList=qn(d)),w&&y&&v&&(E.sidecars=ds({blobs:w,commitments:y,proofs:v})),Ei(E),{...r.length===14?Ut(r):void 0,...E}}function g1(e){const t=Ln(e),[n,r,s,a,o,c,i,u,f,l,p,d]=t;if(!(t.length===9||t.length===12))throw new Ct({attributes:{chainId:n,nonce:r,maxPriorityFeePerGas:s,maxFeePerGas:a,gas:o,to:c,value:i,data:u,accessList:f,...t.length>9?{v:l,r:p,s:d}:{}},serializedTransaction:e,type:"eip1559"});const b={chainId:H(n),type:"eip1559"};return q(c)&&c!=="0x"&&(b.to=c),q(o)&&o!=="0x"&&(b.gas=D(o)),q(u)&&u!=="0x"&&(b.data=u),q(r)&&(b.nonce=r==="0x"?0:H(r)),q(i)&&i!=="0x"&&(b.value=D(i)),q(a)&&a!=="0x"&&(b.maxFeePerGas=D(a)),q(s)&&s!=="0x"&&(b.maxPriorityFeePerGas=D(s)),f.length!==0&&f!=="0x"&&(b.accessList=qn(f)),zn(b),{...t.length===12?Ut(t):void 0,...b}}function w1(e){const t=Ln(e),[n,r,s,a,o,c,i,u,f,l,p]=t;if(!(t.length===8||t.length===11))throw new Ct({attributes:{chainId:n,nonce:r,gasPrice:s,gas:a,to:o,value:c,data:i,accessList:u,...t.length>8?{v:f,r:l,s:p}:{}},serializedTransaction:e,type:"eip2930"});const d={chainId:H(n),type:"eip2930"};return q(o)&&o!=="0x"&&(d.to=o),q(a)&&a!=="0x"&&(d.gas=D(a)),q(i)&&i!=="0x"&&(d.data=i),q(r)&&(d.nonce=r==="0x"?0:H(r)),q(c)&&c!=="0x"&&(d.value=D(c)),q(s)&&s!=="0x"&&(d.gasPrice=D(s)),u.length!==0&&u!=="0x"&&(d.accessList=qn(u)),Pi(d),{...t.length===11?Ut(t):void 0,...d}}function x1(e){const t=Si(e,"hex"),[n,r,s,a,o,c,i,u,f]=t;if(!(t.length===6||t.length===9))throw new Ct({attributes:{nonce:n,gasPrice:r,gas:s,to:a,value:o,data:c,...t.length>6?{v:i,r:u,s:f}:{}},serializedTransaction:e,type:"legacy"});const l={type:"legacy"};if(q(a)&&a!=="0x"&&(l.to=a),q(s)&&s!=="0x"&&(l.gas=D(s)),q(c)&&c!=="0x"&&(l.data=c),q(n)&&(l.nonce=n==="0x"?0:H(n)),q(o)&&o!=="0x"&&(l.value=D(o)),q(r)&&r!=="0x"&&(l.gasPrice=D(r)),Ii(l),t.length===6)return l;const p=q(i)&&i!=="0x"?D(i):0n;if(f==="0x"&&u==="0x")return p>0&&(l.chainId=Number(p)),l;const d=p,b=Number((d-35n)/2n);if(b>0)l.chainId=b;else if(d!==27n&&d!==28n)throw new xo({v:d});return l.v=d,l.s=f,l.r=u,l.yParity=d%2n===0n?1:0,l}function Ln(e){return Si(`0x${e.slice(4)}`,"hex")}function qn(e){const t=[];for(let n=0;n<e.length;n++){const[r,s]=e[n];if(!ye(r,{strict:!1}))throw new ve({address:r});t.push({address:r,storageKeys:s.map(a=>hd(a)?a:Ge(a))})}return t}function v1(e){const t=[];for(let n=0;n<e.length;n++){const[r,s,a,o,c,i]=e[n];t.push({address:s,chainId:r==="0x"?0:H(r),nonce:a==="0x"?0:H(a),...Ut([o,c,i])})}return t}function Ut(e){const t=e.slice(-3),n=t[0]==="0x"||D(t[0])===0n?27n:28n;return{r:Gs(t[1],{size:32}),s:Gs(t[2],{size:32}),v:n,yParity:n===27n?0:1}}class E1 extends M{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function lc(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new E1({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[a,o,c]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],i=Math.round(+`${o}.${c}`);i>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${i}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function Cb(e,t="wei"){return lc(e,yo[t])}function kb(e,t="wei"){return lc(e,go[t])}function P1(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function I1(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?H(e.nonce):void 0,storageProof:e.storageProof?P1(e.storageProof):void 0}}async function T1(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=n!==void 0?S(n):void 0,c=await e.request({method:"eth_getProof",params:[t,s,o||a]});return I1(c)}async function A1(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?S(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function qs(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){var f,l,p;const o=r||"latest",c=n!==void 0?S(n):void 0;let i=null;if(s?i=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?i=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,S(a)]},{dedupe:!0}):i=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||o,S(a)]},{dedupe:!!c}),!i)throw new vo({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:a});return(((p=(l=(f=e.chain)==null?void 0:f.formatters)==null?void 0:l.transaction)==null?void 0:p.format)||Wc)(i)}async function S1(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([F(e,_t,"getBlockNumber")({}),t?F(e,qs,"getTransaction")({hash:t}):void 0]),a=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return a?r-a+1n:0n}async function nn(e,{hash:t}){var s,a,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Eo({hash:t});return(((o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:o.format)||Zc)(n)}async function B1(e,t){var x;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:a,blockOverrides:o,blockTag:c,stateOverride:i}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:l=t.deployless??!1}=typeof((x=e.batch)==null?void 0:x.multicall)=="object"?e.batch.multicall:{},p=(()=>{if(t.multicallAddress)return t.multicallAddress;if(l)return null;if(e.chain)return pt({blockNumber:a,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),d=[[]];let b=0,m=0;for(let w=0;w<u.length;w++){const{abi:y,address:v,args:E,functionName:P}=u[w];try{const I=de({abi:y,args:E,functionName:P});m+=(I.length-2)/2,f>0&&m>f&&d[b].length>0&&(b++,m=(I.length-2)/2,d[b]=[]),d[b]=[...d[b],{allowFailure:!0,callData:I,target:v}]}catch(I){const A=He(I,{abi:y,address:v,args:E,docsPath:"/docs/contract/multicall",functionName:P,sender:n});if(!s)throw A;d[b]=[...d[b],{allowFailure:!0,callData:"0x",target:v}]}}const g=await Promise.allSettled(d.map(w=>F(e,me,"readContract")({...p===null?{code:vs}:{address:p},abi:bn,account:n,args:[w],authorizationList:r,blockNumber:a,blockOverrides:o,blockTag:c,functionName:"aggregate3",stateOverride:i}))),h=[];for(let w=0;w<g.length;w++){const y=g[w];if(y.status==="rejected"){if(!s)throw y.reason;for(let E=0;E<d[w].length;E++)h.push({status:"failure",error:y.reason,result:void 0});continue}const v=y.value;for(let E=0;E<v.length;E++){const{returnData:P,success:I}=v[E],{callData:A}=d[w][E],{abi:N,address:T,functionName:k,args:R}=u[h.length];try{if(A==="0x")throw new Jr;if(!I)throw new En({data:P});const U=Xe({abi:N,args:R,data:P,functionName:k});h.push(s?{result:U,status:"success"}:U)}catch(U){const $=He(U,{abi:N,address:T,args:R,docsPath:"/docs/contract/multicall",functionName:k});if(!s)throw $;h.push({error:$,result:void 0,status:"failure"})}}}if(h.length!==u.length)throw new M("multicall results mismatch");return h}async function Wr(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:a,traceTransfers:o,validation:c}=t;try{const i=[];for(const p of s){const d=p.blockOverrides?Yo(p.blockOverrides):void 0,b=p.calls.map(g=>{const h=g,x=h.account?V(h.account):void 0,w=h.abi?de(h):h.data,y={...h,data:h.dataSuffix?De([w||"0x",h.dataSuffix]):w,from:h.from??(x==null?void 0:x.address)};return Je(y),Ye(y)}),m=p.stateOverrides?as(p.stateOverrides):void 0;i.push({blockOverrides:d,calls:b,stateOverrides:m})}const f=(typeof n=="bigint"?S(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:i,returnFullTransactions:a,traceTransfers:o,validation:c},f]})).map((p,d)=>({...Ja(p),calls:p.calls.map((b,m)=>{var N,T;const{abi:g,args:h,functionName:x,to:w}=s[d].calls[m],y=((N=b.error)==null?void 0:N.data)??b.returnData,v=BigInt(b.gasUsed),E=(T=b.logs)==null?void 0:T.map(k=>Re(k)),P=b.status==="0x1"?"success":"failure",I=g&&P==="success"&&y!=="0x"?Xe({abi:g,data:y,functionName:x}):null,A=(()=>{var R;if(P==="success")return;let k;if(((R=b.error)==null?void 0:R.data)==="0x"?k=new Jr:b.error&&(k=new En(b.error)),!!k)return He(k,{abi:g??[],address:w??"0x",args:h,functionName:x??"<unknown>"})})();return{data:y,gasUsed:v,logs:E,status:P,...P==="success"?{result:I}:{error:A}}})}))}catch(i){const u=i,f=Pn(u,{});throw f instanceof kt?u:f}}function Zr(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const c=e[o];if(["(",")",","].includes(c)&&(t=!0),c==="("&&r++,c===")"&&r--,!!t){if(r===0){if(c===" "&&["event","function","error",""].includes(s))s="";else if(s+=c,c===")"){a=!0;break}continue}if(c===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=c,n+=c}}if(!a)throw new L("Unable to normalize signature.");return s}function Kr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return qr(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>Kr(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Kr(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function pc(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return pc(s.components,a.components,n[r]);const o=[s.type,a.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?qr(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?qr(n[r],{strict:!1}):!1)return o}}function bc(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?ua(e):e;return{...r,...n?{hash:st(r)}:{}}}function Un(e,t,n){const{args:r=[],prepare:s=!0}=n??{},a=Wo(t,{strict:!1}),o=e.filter(u=>a?u.type==="function"||u.type==="error"?mc(u)===Y(t,0,4):u.type==="event"?st(u)===t:!1:"name"in u&&u.name===t);if(o.length===0)throw new yn({name:t});if(o.length===1)return{...o[0],...s?{hash:st(o[0])}:{}};let c;for(const u of o){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:st(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((l,p)=>{const d="inputs"in u&&u.inputs[p];return d?Kr(l,d):!1})){if(c&&"inputs"in c&&c.inputs){const l=pc(u.inputs,c.inputs,r);if(l)throw new C1({abiItem:u,type:l[0]},{abiItem:c,type:l[1]})}c=u}}const i=(()=>{if(c)return c;const[u,...f]=o;return{...u,overloads:f}})();if(!i)throw new yn({name:t});return{...i,...s?{hash:st(i)}:{}}}function mc(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Un(n,r)}return e[0]})();return Y(st(t),0,4)}function $1(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Un(r,s)}return e[0]})(),n=typeof t=="string"?t:br(t);return Zr(n)}function st(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Un(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:_n(xs($1(t)))}class C1 extends L{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Zr(br(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Zr(br(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class yn extends L{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function k1(...e){var a;const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,c]=e;return[R1(o),c]}return e})(),{bytecode:r,args:s}=n;return ce(r,(a=t.inputs)!=null&&a.length&&(s!=null&&s.length)?On(t.inputs,s):"0x")}function N1(e){return bc(e)}function R1(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new yn({name:"constructor"});return t}function M1(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,l]=e;return[Ha(u,f,{args:l}),l]}const[c,i]=e;return[c,i]})(),{overloads:r}=t,s=r?Ha([t,...r],t.name,{args:n}):t,a=z1(s),o=n.length>0?On(s.inputs,n):void 0;return o?ce(a,o):a}function nt(e,t={}){return bc(e,t)}function Ha(e,t,n){const r=Un(e,t,n);if(r.type!=="function")throw new yn({name:t,type:"function"});return r}function z1(e){return mc(e)}const F1="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",we="0x0000000000000000000000000000000000000000",_1="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function O1(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:a,traceAssetChanges:o,traceTransfers:c,validation:i}=t,u=t.account?V(t.account):void 0;if(o&&!u)throw new M("`account` is required when `traceAssetChanges` is true");const f=u?k1(N1("constructor(bytes, bytes)"),{bytecode:ei,args:[_1,M1(nt("function getBalance(address)"),[u.address])]}):void 0,l=o?await Promise.all(t.calls.map(async B=>{if(!B.data&&!B.abi)return;const{accessList:z}=await yi(e,{account:u.address,...B,data:B.abi?de(B):B.data});return z.map(({address:O,storageKeys:j})=>j.length>0?O:null)})).then(B=>B.flat().filter(Boolean)):[],p=await Wr(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:f}],stateOverrides:a},{calls:l.map((B,z)=>({abi:[nt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:B,from:we,nonce:z})),stateOverrides:[{address:we,nonce:0}]}]:[],{calls:[...s,{}].map(B=>({...B,from:u==null?void 0:u.address})),stateOverrides:a},...o?[{calls:[{data:f}]},{calls:l.map((B,z)=>({abi:[nt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:B,from:we,nonce:z})),stateOverrides:[{address:we,nonce:0}]},{calls:l.map((B,z)=>({to:B,abi:[nt("function decimals() returns (uint256)")],functionName:"decimals",from:we,nonce:z})),stateOverrides:[{address:we,nonce:0}]},{calls:l.map((B,z)=>({to:B,abi:[nt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:we,nonce:z})),stateOverrides:[{address:we,nonce:0}]},{calls:l.map((B,z)=>({to:B,abi:[nt("function symbol() returns (string)")],functionName:"symbol",from:we,nonce:z})),stateOverrides:[{address:we,nonce:0}]}]:[]],traceTransfers:c,validation:i}),d=o?p[2]:p[0],[b,m,,g,h,x,w,y]=o?p:[],{calls:v,...E}=d,P=v.slice(0,-1)??[],I=(b==null?void 0:b.calls)??[],A=(m==null?void 0:m.calls)??[],N=[...I,...A].map(B=>B.status==="success"?D(B.data):null),T=(g==null?void 0:g.calls)??[],k=(h==null?void 0:h.calls)??[],R=[...T,...k].map(B=>B.status==="success"?D(B.data):null),U=((x==null?void 0:x.calls)??[]).map(B=>B.status==="success"?B.result:null),$=((y==null?void 0:y.calls)??[]).map(B=>B.status==="success"?B.result:null),C=((w==null?void 0:w.calls)??[]).map(B=>B.status==="success"?B.result:null),_=[];for(const[B,z]of R.entries()){const O=N[B];if(typeof z!="bigint"||typeof O!="bigint")continue;const j=U[B-1],W=$[B-1],Q=C[B-1],J=B===0?{address:F1,decimals:18,symbol:"ETH"}:{address:l[B-1],decimals:Q||j?Number(j??1):void 0,symbol:W??void 0};_.some(Z=>Z.token.address===J.address)||_.push({token:J,value:{pre:O,post:z,diff:z-O}})}return{assetChanges:_,block:E,results:P}}const hc="0x6492649264926492649264926492649264926492649264926492649264926492";function L1(e){if(Y(e,-32)!==hc)throw new j1(e)}function q1(e){const{data:t,signature:n,to:r}=e;return ce(On(Li("address, bytes, bytes"),[r,t,n]),hc)}function U1(e){try{return L1(e),!0}catch{return!1}}class j1 extends L{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function D1({r:e,s:t,to:n="hex",v:r,yParity:s}){const a=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new mt.Signature(D(e),D(t)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?o:be(o)}async function jn(e,t){var c,i,u,f,l,p;const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??((u=(i=(c=e.chain)==null?void 0:c.contracts)==null?void 0:i.erc6492Verifier)==null?void 0:u.address),multicallAddress:a=t.multicallAddress??((p=(l=(f=e.chain)==null?void 0:f.contracts)==null?void 0:l.multicall3)==null?void 0:p.address)}=t,o=(()=>{const d=t.signature;return q(d)?d:typeof d=="object"&&"r"in d&&"s"in d?D1(d):ie(d)})();try{return dc(o)?await G1(e,{...t,multicallAddress:a,signature:o}):await H1(e,{...t,verifierAddress:s,signature:o})}catch(d){try{if(Fe(Ee(n),await dt({hash:r,signature:o})))return!0}catch{}if(d instanceof Ke)return!1;throw d}}async function G1(e,t){var g;const{address:n,blockNumber:r,blockTag:s,hash:a,multicallAddress:o}=t,{authorization:c,data:i,signature:u,to:f}=fc(t.signature);if(await Or(e,{address:n,blockNumber:r,blockTag:s})===he(["0xef0100",c.address]))return await V1(e,{address:n,blockNumber:r,blockTag:s,hash:a,signature:u});const p={address:c.address,chainId:Number(c.chainId),nonce:Number(c.nonce),r:S(c.r,{size:32}),s:S(c.s,{size:32}),yParity:c.yParity};if(!await ad({address:n,authorization:p}))throw new Ke;const b=await F(e,me,"readContract")({...o?{address:o}:{code:vs},authorizationList:[p],abi:bn,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...i?[{allowFailure:!0,target:f??n,callData:i}]:[],{allowFailure:!0,target:n,callData:de({abi:Qo,functionName:"isValidSignature",args:[a,u]})}]]}),m=(g=b[b.length-1])==null?void 0:g.returnData;if(m!=null&&m.startsWith("0x1626ba7e"))return!0;throw new Ke}async function H1(e,t){const{address:n,factory:r,factoryData:s,hash:a,signature:o,verifierAddress:c,...i}=t,u=await(async()=>!r&&!s||U1(o)?o:q1({data:s,signature:o,to:r}))(),f=c?{to:c,data:de({abi:Sa,functionName:"isValidSig",args:[n,a,u]}),...i}:{data:kn({abi:Sa,args:[n,a,u],bytecode:tf}),...i},{data:l}=await F(e,Ft,"call")(f).catch(p=>{throw p instanceof Po?new Ke:p});if(Kc(l??"0x0"))return!0;throw new Ke}async function V1(e,t){const{address:n,blockNumber:r,blockTag:s,hash:a,signature:o}=t;if((await F(e,me,"readContract")({address:n,abi:Qo,args:[a,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(i=>{throw i instanceof Io?new Ke:i})).startsWith("0x1626ba7e"))return!0;throw new Ke}class Ke extends Error{}async function W1(e,{address:t,message:n,factory:r,factoryData:s,signature:a,...o}){const c=Cs(n);return jn(e,{address:t,factory:r,factoryData:s,hash:c,signature:a,...o})}async function Z1(e,t){const{address:n,factory:r,factoryData:s,signature:a,message:o,primaryType:c,types:i,domain:u,...f}=t,l=so({message:o,primaryType:c,types:i,domain:u});return jn(e,{address:n,factory:r,factoryData:s,hash:l,signature:a,...f})}function yc(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){const c=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let i;return c?(()=>{const l=X(["watchBlockNumber",e.uid,t,n,o]);return Ce(l,{onBlockNumber:r,onError:s},p=>bt(async()=>{var d;try{const b=await F(e,_t,"getBlockNumber")({cacheTime:0});if(i!==void 0){if(b===i)return;if(b-i>1&&n)for(let m=i+1n;m<b;m++)p.onBlockNumber(m,i),i=m}(i===void 0||b>i)&&(p.onBlockNumber(b,i),i=b)}catch(b){(d=p.onError)==null||d.call(p,b)}},{emitOnBegin:t,interval:o}))})():(()=>{const l=X(["watchBlockNumber",e.uid,t,n]);return Ce(l,{onBlockNumber:r,onError:s},p=>{let d=!0,b=()=>d=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const h=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return h?h.value:e.transport}return e.transport})(),{unsubscribe:g}=await m.subscribe({params:["newHeads"],onData(h){var w;if(!d)return;const x=D((w=h.result)==null?void 0:w.number);p.onBlockNumber(x,i),i=x},onError(h){var x;(x=p.onError)==null||x.call(p,h)}});b=g,d||b()}catch(m){s==null||s(m)}})(),()=>b()})})()}async function K1(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:a,retryCount:o=6,retryDelay:c=({count:v})=>~~(1<<v)*200,timeout:i=18e4}=t,u=X(["waitForTransactionReceipt",e.uid,s]),f=(()=>{var v;return t.pollingInterval?t.pollingInterval:(v=e.chain)!=null&&v.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let l,p,d,b=!1,m,g;const{promise:h,resolve:x,reject:w}=Es(),y=i?setTimeout(()=>{g==null||g(),m==null||m(),w(new t0({hash:s}))},i):void 0;return m=Ce(u,{onReplaced:a,resolve:x,reject:w},async v=>{if(d=await F(e,nn,"getTransactionReceipt")({hash:s}).catch(()=>{}),d&&r<=1){clearTimeout(y),v.resolve(d),m==null||m();return}g=F(e,yc,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(E){const P=A=>{clearTimeout(y),g==null||g(),A(),m==null||m()};let I=E;if(!b)try{if(d){if(r>1&&(!d.blockNumber||I-d.blockNumber+1n<r))return;P(()=>v.resolve(d));return}if(n&&!l&&(b=!0,await hn(async()=>{l=await F(e,qs,"getTransaction")({hash:s}),l.blockNumber&&(I=l.blockNumber)},{delay:c,retryCount:o}),b=!1),d=await F(e,nn,"getTransactionReceipt")({hash:s}),r>1&&(!d.blockNumber||I-d.blockNumber+1n<r))return;P(()=>v.resolve(d))}catch(A){if(A instanceof vo||A instanceof Eo){if(!l){b=!1;return}try{p=l,b=!0;const N=await hn(()=>F(e,xe,"getBlock")({blockNumber:I,includeTransactions:!0}),{delay:c,retryCount:o,shouldRetry:({error:R})=>R instanceof To});b=!1;const T=N.transactions.find(({from:R,nonce:U})=>R===p.from&&U===p.nonce);if(!T||(d=await F(e,nn,"getTransactionReceipt")({hash:T.hash}),r>1&&(!d.blockNumber||I-d.blockNumber+1n<r)))return;let k="replaced";T.to===p.to&&T.value===p.value&&T.input===p.input?k="repriced":T.from===T.to&&T.value===0n&&(k="cancelled"),P(()=>{var R;(R=v.onReplaced)==null||R.call(v,{reason:k,replacedTransaction:p,transaction:T,transactionReceipt:d}),v.resolve(d)})}catch(N){P(()=>v.reject(N))}}else P(()=>v.reject(A))}}})}),h}function Y1(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:c,pollingInterval:i=e.pollingInterval}){const u=typeof c<"u"?c:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=o??!1;let l;return u?(()=>{const b=X(["watchBlocks",e.uid,t,n,r,f,i]);return Ce(b,{onBlock:s,onError:a},m=>bt(async()=>{var g;try{const h=await F(e,xe,"getBlock")({blockTag:t,includeTransactions:f});if(h.number!==null&&(l==null?void 0:l.number)!=null){if(h.number===l.number)return;if(h.number-l.number>1&&n)for(let x=(l==null?void 0:l.number)+1n;x<h.number;x++){const w=await F(e,xe,"getBlock")({blockNumber:x,includeTransactions:f});m.onBlock(w,l),l=w}}((l==null?void 0:l.number)==null||t==="pending"&&(h==null?void 0:h.number)==null||h.number!==null&&h.number>l.number)&&(m.onBlock(h,l),l=h)}catch(h){(g=m.onError)==null||g.call(m,h)}},{emitOnBegin:r,interval:i}))})():(()=>{let b=!0,m=!0,g=()=>b=!1;return(async()=>{try{r&&F(e,xe,"getBlock")({blockTag:t,includeTransactions:f}).then(w=>{b&&m&&(s(w,void 0),m=!1)}).catch(a);const h=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(y=>y.config.type==="webSocket"||y.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:x}=await h.subscribe({params:["newHeads"],async onData(w){var v;if(!b)return;const y=await F(e,xe,"getBlock")({blockNumber:(v=w.result)==null?void 0:v.number,includeTransactions:f}).catch(()=>{});b&&(s(y,l),m=!1,l=y)},onError(w){a==null||a(w)}});g=x,b||g()}catch(h){a==null||a(h)}})(),()=>g()})()}function J1(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:o,onError:c,onLogs:i,poll:u,pollingInterval:f=e.pollingInterval,strict:l}){const p=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),d=l??!1;return p?(()=>{const g=X(["watchEvent",t,n,r,e.uid,s,f,o]);return Ce(g,{onLogs:i,onError:c},h=>{let x;o!==void 0&&(x=o-1n);let w,y=!1;const v=bt(async()=>{var E;if(!y){try{w=await F(e,gi,"createEventFilter")({address:t,args:n,event:s,events:a,strict:d,fromBlock:o})}catch{}y=!0;return}try{let P;if(w)P=await F(e,Nn,"getFilterChanges")({filter:w});else{const I=await F(e,_t,"getBlockNumber")({});x&&x!==I?P=await F(e,ps,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:x+1n,toBlock:I}):P=[],x=I}if(P.length===0)return;if(r)h.onLogs(P);else for(const I of P)h.onLogs([I])}catch(P){w&&P instanceof un&&(y=!1),(E=h.onError)==null||E.call(h,P)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await F(e,Rn,"uninstallFilter")({filter:w}),v()}})})():(()=>{let g=!0,h=()=>g=!1;return(async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),w=a??(s?[s]:void 0);let y=[];w&&(y=[w.flatMap(P=>Tt({abi:[P],eventName:P.name,args:n}))],s&&(y=y[0]));const{unsubscribe:v}=await x.subscribe({params:["logs",{address:t,topics:y}],onData(E){var I;if(!g)return;const P=E.result;try{const{eventName:A,args:N}=eo({abi:w??[],data:P.data,topics:P.topics,strict:d}),T=Re(P,{args:N,eventName:A});i([T])}catch(A){let N,T;if(A instanceof to||A instanceof no){if(l)return;N=A.abiItem.name,T=(I=A.abiItem.inputs)==null?void 0:I.some(R=>!("name"in R&&R.name))}const k=Re(P,{args:T?[]:{},eventName:N});i([k])}},onError(E){c==null||c(E)}});h=v,g||h()}catch(x){c==null||c(x)}})(),()=>h()})()}function X1(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=X(["watchPendingTransactions",e.uid,t,a]);return Ce(u,{onTransactions:r,onError:n},f=>{let l;const p=bt(async()=>{var d;try{if(!l)try{l=await F(e,wi,"createPendingTransactionFilter")({});return}catch(m){throw p(),m}const b=await F(e,Nn,"getFilterChanges")({filter:l});if(b.length===0)return;if(t)f.onTransactions(b);else for(const m of b)f.onTransactions([m])}catch(b){(d=f.onError)==null||d.call(f,b)}},{emitOnBegin:!0,interval:a});return async()=>{l&&await F(e,Rn,"uninstallFilter")({filter:l}),p()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!u)return;const d=p.result;r([d])},onError(p){n==null||n(p)}});f=l,u||f()}catch(l){n==null||n(l)}})(),()=>f()})()}function Q1(e){var l,p,d;const{scheme:t,statement:n,...r}=((l=e.match(ep))==null?void 0:l.groups)??{},{chainId:s,expirationTime:a,issuedAt:o,notBefore:c,requestId:i,...u}=((p=e.match(tp))==null?void 0:p.groups)??{},f=(d=e.split("Resources:")[1])==null?void 0:d.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...o?{issuedAt:new Date(o)}:{},...c?{notBefore:new Date(c)}:{},...i?{requestId:i}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const ep=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,tp=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function np(e){const{address:t,domain:n,message:r,nonce:s,scheme:a,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||a&&r.scheme!==a||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!ye(r.address,{strict:!1})||t&&!Fe(r.address,t))return!1}catch{return!1}return!0}async function rp(e,t){const{address:n,domain:r,message:s,nonce:a,scheme:o,signature:c,time:i=new Date,...u}=t,f=Q1(s);if(!f.address||!np({address:n,domain:r,message:f,nonce:a,scheme:o,time:i}))return!1;const p=Cs(s);return jn(e,{address:f.address,hash:p,signature:c,...u})}function sp(e){return{call:t=>Ft(e,t),createAccessList:t=>yi(e,t),createBlockFilter:()=>qf(e),createContractEventFilter:t=>ns(e,t),createEventFilter:t=>gi(e,t),createPendingTransactionFilter:()=>wi(e),estimateContractGas:t=>zo(e,t),estimateGas:t=>ls(e,t),getBalance:t=>Uf(e,t),getBlobBaseFee:()=>jf(e),getBlock:t=>xe(e,t),getBlockNumber:t=>_t(e,t),getBlockTransactionCount:t=>Df(e,t),getBytecode:t=>Or(e,t),getChainId:()=>lt(e),getCode:t=>Or(e,t),getContractEvents:t=>bs(e,t),getEip712Domain:t=>Hf(e,t),getEnsAddress:t=>Pf(e,t),getEnsAvatar:t=>_f(e,t),getEnsName:t=>Of(e,t),getEnsResolver:t=>Lf(e,t),getEnsText:t=>hi(e,t),getFeeHistory:t=>Zf(e,t),estimateFeesPerGas:t=>b0(e,t),getFilterChanges:t=>Nn(e,t),getFilterLogs:t=>Kf(e,t),getGasPrice:()=>is(e),getLogs:t=>ps(e,t),getProof:t=>T1(e,t),estimateMaxPriorityFeePerGas:t=>p0(e,t),getStorageAt:t=>A1(e,t),getTransaction:t=>qs(e,t),getTransactionConfirmations:t=>S1(e,t),getTransactionCount:t=>In(e,t),getTransactionReceipt:t=>nn(e,t),multicall:t=>B1(e,t),prepareTransactionRequest:t=>Tn(e,t),readContract:t=>me(e,t),sendRawTransaction:t=>Is(e,t),simulate:t=>Wr(e,t),simulateBlocks:t=>Wr(e,t),simulateCalls:t=>O1(e,t),simulateContract:t=>si(e,t),verifyHash:t=>jn(e,t),verifyMessage:t=>W1(e,t),verifySiweMessage:t=>rp(e,t),verifyTypedData:t=>Z1(e,t),uninstallFilter:t=>Rn(e,t),waitForTransactionReceipt:t=>K1(e,t),watchBlocks:t=>Y1(e,t),watchBlockNumber:t=>yc(e,t),watchContractEvent:t=>ai(e,t),watchEvent:t=>J1(e,t),watchPendingTransactions:t=>X1(e,t)}}function Nb(e){const{key:t="public",name:n="Public Client"}=e;return Ts({...e,key:t,name:n,type:"publicClient"}).extend(sp)}async function ap(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}async function op(e){return e.request({method:`${e.mode}_dumpState`})}async function ip(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}async function cp(e){return await e.request({method:"txpool_content"})}async function up(e){const{pending:t,queued:n}=await e.request({method:"txpool_status"});return{pending:H(t),queued:H(n)}}async function fp(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}async function dp(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[S(t)]})}async function lp(e){return await e.request({method:"txpool_inspect"})}async function pp(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}async function bp(e,{blocks:t,interval:n}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:S(t)}]}):await e.request({method:`${e.mode}_mine`,params:[S(t),S(n||0)]})}async function mp(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}async function hp(e,{blockNumber:t,jsonRpcUrl:n}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:n}}]})}async function yp(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}async function gp(e,t){var h,x,w;const{accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:i,nonce:u,to:f,value:l,...p}=t,d=(w=(x=(h=e.chain)==null?void 0:h.formatters)==null?void 0:x.transactionRequest)==null?void 0:w.format,m=(d||Ye)({...Nt(p,{format:d}),accessList:n,data:r,from:s,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:i,nonce:u,to:f,value:l});return await e.request({method:"eth_sendUnsignedTransaction",params:[m]})}async function wp(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}async function xp(e,{address:t,value:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,S(n)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,S(n)]})}async function vp(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[S(t)]})}async function Ep(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[n]})}async function Pp(e,{address:t,bytecode:n}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[t,n]}):await e.request({method:`${e.mode}_setCode`,params:[t,n]})}async function Ip(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}async function Tp(e,{interval:t}){const n=e.mode==="hardhat"?t*1e3:t;await e.request({method:"evm_setIntervalMining",params:[n]})}async function Ap(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}async function Sp(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[S(t)]})}async function Bp(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[S(t)]})}async function $p(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[S(t)]})}async function Cp(e,{address:t,nonce:n}){await e.request({method:`${e.mode}_setNonce`,params:[t,S(n)]})}async function kp(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}async function Np(e,{address:t,index:n,value:r}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof n=="number"?S(n):n,r]})}async function Rp(e){return await e.request({method:"evm_snapshot"})}async function Mp(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}function zp({mode:e}){return t=>{const n=t.extend(()=>({mode:e}));return{dropTransaction:r=>ap(n,r),dumpState:()=>op(n),getAutomine:()=>ip(n),getTxpoolContent:()=>cp(n),getTxpoolStatus:()=>up(n),impersonateAccount:r=>fp(n,r),increaseTime:r=>dp(n,r),inspectTxpool:()=>lp(n),loadState:r=>pp(n,r),mine:r=>bp(n,r),removeBlockTimestampInterval:()=>mp(n),reset:r=>hp(n,r),revert:r=>yp(n,r),sendUnsignedTransaction:r=>gp(n,r),setAutomine:r=>wp(n,r),setBalance:r=>xp(n,r),setBlockGasLimit:r=>vp(n,r),setBlockTimestampInterval:r=>Ep(n,r),setCode:r=>Pp(n,r),setCoinbase:r=>Ip(n,r),setIntervalMining:r=>Tp(n,r),setLoggingEnabled:r=>Ap(n,r),setMinGasPrice:r=>Sp(n,r),setNextBlockBaseFeePerGas:r=>Bp(n,r),setNextBlockTimestamp:r=>$p(n,r),setNonce:r=>Cp(n,r),setRpcUrl:r=>kp(n,r),setStorageAt:r=>Np(n,r),snapshot:()=>Rp(n),stopImpersonatingAccount:r=>Mp(n,r)}}}function Rb(e){const{key:t="test",name:n="Test Client",mode:r}=e;return Ts({...e,key:t,name:n,type:"testClient"}).extend(a=>({mode:r,...zp({mode:r})(a)}))}async function Fp(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:S(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:c})=>c):void 0}]},{dedupe:!0,retryCount:0})}function _p(e,t){const{abi:n,args:r,bytecode:s,...a}=t,o=kn({abi:n,args:r,bytecode:s});return Mn(e,{...a,...a.authorizationList?{to:null}:{},data:o})}async function Op(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Ya(r))}async function Lp(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?V(n):void 0,a=r?[s==null?void 0:s.address,[S(r)]]:[s==null?void 0:s.address],o=await e.request({method:"wallet_getCapabilities",params:a}),c={};for(const[i,u]of Object.entries(o)){c[Number(i)]={};for(let[f,l]of Object.entries(u))f==="addSubAccount"&&(f="unstable_addSubAccount"),c[Number(i)][f]=l}return typeof r=="number"?c[r]:c}async function qp(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function gc(e,t){var i;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new Qe({docsPath:"/docs/eip7702/prepareAuthorization"});const a=V(n),o=(()=>{if(t.executor)return t.executor==="self"?t.executor:V(t.executor)})(),c={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof c.chainId>"u"&&(c.chainId=((i=e.chain)==null?void 0:i.id)??await F(e,lt,"getChainId")({})),typeof c.nonce>"u"&&(c.nonce=await F(e,In,"getTransactionCount")({address:a.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&Fe(o.address,a.address))&&(c.nonce+=1)),c}async function Up(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Ee(n))}async function jp(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function Dp(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function Gp(e,t){const{account:n=e.account}=t;if(!n)throw new Qe({docsPath:"/docs/eip7702/signAuthorization"});const r=V(n);if(!r.signAuthorization)throw new en({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await gc(e,t);return r.signAuthorization(s)}async function Hp(e,{account:t=e.account,message:n}){if(!t)throw new Qe({docsPath:"/docs/actions/wallet/signMessage"});const r=V(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?xt(n):n.raw instanceof Uint8Array?$e(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function Vp(e,t){var u,f,l,p;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Qe({docsPath:"/docs/actions/wallet/signTransaction"});const a=V(n);Je({account:a,...t});const o=await F(e,lt,"getChainId")({});r!==null&&oi({currentChainId:o,chain:r});const c=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),i=((f=c==null?void 0:c.transactionRequest)==null?void 0:f.format)||Ye;return a.signTransaction?a.signTransaction({...s,chainId:o},{serializer:(p=(l=e.chain)==null?void 0:l.serializers)==null?void 0:p.transaction}):await e.request({method:"eth_signTransaction",params:[{...i(s),chainId:S(o),from:a.address}]},{retryCount:0})}async function Wp(e,t){const{account:n=e.account,domain:r,message:s,primaryType:a}=t;if(!n)throw new Qe({docsPath:"/docs/actions/wallet/signTypedData"});const o=V(n),c={EIP712Domain:Yc({domain:r}),...t.types};if(Jc({domain:r,message:s,primaryType:a,types:c}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:a,types:c});const i=Xc({domain:r,message:s,primaryType:a,types:c});return e.request({method:"eth_signTypedData_v4",params:[o.address,i]},{retryCount:0})}async function Zp(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:S(t)}]},{retryCount:0})}async function Kp(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function Yp(e){return{addChain:t=>Fp(e,t),deployContract:t=>_p(e,t),getAddresses:()=>Op(e),getCallsStatus:t=>di(e,t),getCapabilities:t=>Lp(e,t),getChainId:()=>lt(e),getPermissions:()=>qp(e),prepareAuthorization:t=>gc(e,t),prepareTransactionRequest:t=>Tn(e,t),requestAddresses:()=>Up(e),requestPermissions:t=>jp(e,t),sendCalls:t=>hf(e,t),sendRawTransaction:t=>Is(e,t),sendTransaction:t=>Mn(e,t),showCallsStatus:t=>Dp(e,t),signAuthorization:t=>Gp(e,t),signMessage:t=>Hp(e,t),signTransaction:t=>Vp(e,t),signTypedData:t=>Wp(e,t),switchChain:t=>Zp(e,t),waitForCallsStatus:t=>yf(e,t),watchAsset:t=>Kp(e,t),writeContract:t=>ci(e,t)}}function Mb(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Ts({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(Yp)}function Dn({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:a=150,timeout:o,type:c},i){const u=li();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:a,timeout:o,type:c},request:id(r,{methods:t,retryCount:s,retryDelay:a,uid:u}),value:i}}function zb(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:a}=t;return({retryCount:o})=>Dn({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:a,type:"custom"})}function Fb(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:a=Jp,retryCount:o,retryDelay:c}=t;return({chain:i,pollingInterval:u=4e3,timeout:f,...l})=>{let p=e,d=()=>{};const b=Dn({key:n,name:r,async request({method:m,params:g}){let h;const x=async(w=0)=>{const y=p[w]({...l,chain:i,retryCount:0,timeout:f});try{const v=await y.request({method:m,params:g});return d({method:m,params:g,response:v,transport:y,status:"success"}),v}catch(v){if(d({error:v,method:m,params:g,transport:y,status:"error"}),a(v)||w===p.length-1||(h??(h=p.slice(w+1).some(E=>{const{include:P,exclude:I}=E({chain:i}).config.methods||{};return P?P.includes(m):I?!I.includes(m):!0})),!h))throw v;return x(w+1)}};return x()},retryCount:o,retryDelay:c,type:"fallback"},{onResponse:m=>d=m,transports:p.map(m=>m({chain:i,retryCount:0}))});if(s){const m=typeof s=="object"?s:{};Xp({chain:i,interval:m.interval??u,onTransports:g=>p=g,ping:m.ping,sampleCount:m.sampleCount,timeout:m.timeout,transports:p,weights:m.weights})}return b}}function Jp(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===gr.code||e.code===Qt.code||Le.nodeMessage.test(e.message)||e.code===5e3))}function Xp({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:a=1e3,transports:o,weights:c={}}){const{stability:i=.7,latency:u=.3}=c,f=[],l=async()=>{const p=await Promise.all(o.map(async m=>{const g=m({chain:e,retryCount:0,timeout:a}),h=Date.now();let x,w;try{await(r?r({transport:g}):g.request({method:"net_listening"})),w=1}catch{w=0}finally{x=Date.now()}return{latency:x-h,success:w}}));f.push(p),f.length>s&&f.shift();const d=Math.max(...f.map(m=>Math.max(...m.map(({latency:g})=>g)))),b=o.map((m,g)=>{const h=f.map(E=>E[g].latency),w=1-h.reduce((E,P)=>E+P,0)/h.length/d,y=f.map(E=>E[g].success),v=y.reduce((E,P)=>E+P,0)/y.length;return v===0?[0,g]:[u*w+i*v,g]}).sort((m,g)=>g[0]-m[0]);n(b.map(([,m])=>o[m])),await mn(t),l()};l()}class wc extends M{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function _b(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:a="http",methods:o,name:c="HTTP JSON-RPC",onFetchRequest:i,onFetchResponse:u,retryDelay:f,raw:l}=t;return({chain:p,retryCount:d,timeout:b})=>{const{batchSize:m=1e3,wait:g=0}=typeof n=="object"?n:{},h=t.retryCount??d,x=b??t.timeout??1e4,w=e||(p==null?void 0:p.rpcUrls.default.http[0]);if(!w)throw new wc;const y=$d(w,{fetchFn:r,fetchOptions:s,onRequest:i,onResponse:u,timeout:x});return Dn({key:a,methods:o,name:c,async request({method:v,params:E}){const P={method:v,params:E},{schedule:I}=Ps({id:w,wait:g,shouldSplitBatch(k){return k.length>m},fn:k=>y.request({body:k}),sort:(k,R)=>k.id-R.id}),A=async k=>n?I(k):[await y.request({body:k})],[{error:N,result:T}]=await A(P);if(l)return{error:N,result:T};if(N)throw new ts({body:P,error:N,url:w});return T},retryCount:h,retryDelay:f,timeout:x,type:"http"},{fetchOptions:s,url:w})}}function Ob(e,t={}){const{keepAlive:n,key:r="webSocket",methods:s,name:a="WebSocket JSON-RPC",reconnect:o,retryDelay:c}=t;return({chain:i,retryCount:u,timeout:f})=>{var m;const l=t.retryCount??u,p=f??t.timeout??1e4,d=e||((m=i==null?void 0:i.rpcUrls.default.webSocket)==null?void 0:m[0]),b={keepAlive:n,reconnect:o};if(!d)throw new wc;return Dn({key:r,methods:s,name:a,async request({method:g,params:h}){const x={method:g,params:h},w=await tn(d,b),{error:y,result:v}=await w.requestAsync({body:x,timeout:p});if(y)throw new ts({body:x,error:y,url:d});return v},retryCount:l,retryDelay:c,timeout:p,type:"webSocket"},{getSocket(){return kd(d)},getRpcClient(){return tn(d,b)},async subscribe({params:g,onData:h,onError:x}){const w=await tn(d,b),{result:y}=await new Promise((v,E)=>w.request({body:{method:"eth_subscribe",params:g},onError(P){E(P),x==null||x(P)},onResponse(P){if(P.error){E(P.error),x==null||x(P.error);return}if(typeof P.id=="number"){v(P);return}P.method==="eth_subscription"&&h(P.params)}}));return{subscriptionId:y,async unsubscribe(){return new Promise(v=>w.request({body:{method:"eth_unsubscribe",params:[y]},onResponse:v}))}}}})}}class Lb extends Error{constructor(t,n){super(n),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=n}}const lr="/docs/contract/decodeDeployData";function qb(e){const{abi:t,bytecode:n,data:r}=e;if(r===n)return{bytecode:n};const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new Qa({docsPath:lr});if(!("inputs"in s))throw new sn({docsPath:lr});if(!s.inputs||s.inputs.length===0)throw new sn({docsPath:lr});return{args:gn(s.inputs,`0x${r.replace(n,"")}`),bytecode:n}}function Ub(e){const t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(c=>be(c)):e.blobs,r=n.reduce((c,i)=>c+i.length,0),s=rn(new Uint8Array(r));let a=!0;for(const c of n){const i=rn(c);for(;a&&i.position<c.length;){i.incrementPosition(1);let u=31;c.length-i.position<31&&(u=c.length-i.position);for(const f in Array.from({length:u})){const l=i.readByte();if(l===128&&!i.inspectBytes(i.remaining).includes(128)){a=!1;break}s.pushByte(l)}}}const o=s.bytes.slice(0,s.position);return t==="hex"?ie(o):o}function jb(e){const{sidecars:t,version:n}=e,r=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),s=[];for(const{commitment:a}of t)s.push(So({commitment:a,to:r,version:n}));return s}const Qp=2147483648;function Db(e){if(e===1)return 60n;if(e>=Qp||e<0)throw new Af({chainId:e});return BigInt((2147483648|e)>>>0)}function eb({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function Gb(e,t){try{e.loadTrustedSetup(t)}catch(n){const r=n;if(!r.message.includes("trusted setup is already loaded"))throw r}return eb(e)}function Hb({r:e,yParityAndS:t}){const n=be(t),r=n[0]&128?1:0,s=n;return r===1&&(s[0]&=127),{r:e,s:ie(s),yParity:r}}function Vb(e){const{r:t,s:n}=mt.Signature.fromCompact(e.slice(2,130));return{r:S(t,{size:32}),yParityAndS:S(n,{size:32})}}function Wb(e){const{r:t,s:n}=mt.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,a]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:S(t,{size:32}),s:S(n,{size:32}),v:s,yParity:a}:{r:S(t,{size:32}),s:S(n,{size:32}),yParity:a}}async function Zb(e){const{serializedTransaction:t,signature:n}=e,r=m1(t),s=n??{r:r.r,s:r.s,v:r.v,yParity:r.yParity},a=Xf({...r,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await dt({hash:Be(a),signature:s})}function Kb({r:e,yParityAndS:t}){return`0x${new mt.Signature(D(e),D(t)).toCompactHex()}`}function Yb(e){const{r:t,s:n,v:r,yParity:s}=e,a=Number(s??r-27n);let o=n;if(a===1){const c=be(n);c[0]|=128,o=ie(c)}return{r:t,yParityAndS:o}}export{Qa as AbiConstructorNotFoundError,sn as AbiConstructorParamsNotFoundError,Qb as AbiDecodingDataSizeInvalidError,em as AbiDecodingDataSizeTooSmallError,Jr as AbiDecodingZeroDataError,tm as AbiEncodingArrayLengthMismatchError,nm as AbiEncodingBytesSizeMismatchError,$c as AbiEncodingLengthMismatchError,Ic as AbiErrorInputsNotFoundError,js as AbiErrorNotFoundError,vc as AbiErrorSignatureNotFoundError,rm as AbiEventNotFoundError,sm as AbiEventSignatureEmptyTopicsError,am as AbiEventSignatureNotFoundError,it as AbiFunctionNotFoundError,Xa as AbiFunctionOutputsNotFoundError,Pc as AbiFunctionSignatureNotFoundError,Wu as AccountStateConflictError,Hs as AtomicReadyWalletRejectedUpgradeError,hr as AtomicityNotSupportedError,M as BaseError,d0 as BaseFeeScalarError,To as BlockNotFoundError,mf as BundleFailedError,Vs as BundleTooLargeError,Rc as BytesSizeMismatchError,Po as CallExecutionError,Js as ChainDisconnectedError,zr as ChainDoesNotSupportContract,nf as ChainMismatchError,rf as ChainNotFoundError,ku as CircularReferenceError,ti as ClientChainNotConfiguredError,Io as ContractFunctionExecutionError,Pr as ContractFunctionRevertedError,n0 as ContractFunctionZeroDataError,r0 as CounterfactualDeploymentFailedError,to as DecodeLogDataMismatch,no as DecodeLogTopicsMismatch,Zs as DuplicateIdError,Lb as EIP1193ProviderRpcError,os as Eip1559FeesNotSupportedError,wt as EnsAvatarInvalidNftUriError,Tf as EnsAvatarUnsupportedNamespaceError,Bs as EnsAvatarUriResolutionError,Af as EnsInvalidChainIdError,c0 as EstimateGasExecutionError,Le as ExecutionRevertedError,Ve as FeeCapTooHighError,Ir as FeeCapTooLowError,Yu as FeeConflictError,om as FilterTypeNotSupportedError,Ue as HttpRequestError,Br as InsufficientFundsError,im as IntegerOutOfRangeError,cn as InternalRpcError,$r as IntrinsicGasTooHighError,Cr as IntrinsicGasTooLowError,cm as InvalidAbiDecodingTypeError,um as InvalidAbiEncodingTypeError,wu as InvalidAbiItemError,Eu as InvalidAbiParameterError,Pu as InvalidAbiParametersError,Bu as InvalidAbiTypeParameterError,ve as InvalidAddressError,Tc as InvalidArrayError,fm as InvalidBytesBooleanError,Cn as InvalidChainIdError,E1 as InvalidDecimalNumberError,dm as InvalidDefinitionTypeError,lm as InvalidDomainError,Su as InvalidFunctionModifierError,pm as InvalidHexBooleanError,Fc as InvalidHexValueError,un as InvalidInputRpcError,xo as InvalidLegacyVError,Au as InvalidModifierError,Iu as InvalidParameterError,sa as InvalidParamsRpcError,Nu as InvalidParenthesisError,bm as InvalidPrimaryTypeError,oa as InvalidRequestRpcError,Ju as InvalidSerializableTransactionError,Ct as InvalidSerializedTransactionError,Xu as InvalidSerializedTransactionTypeError,ft as InvalidSignatureError,Qu as InvalidStorageKeySizeError,Cu as InvalidStructSignatureError,mm as InvalidStructTypeError,ta as JsonRpcVersionUnsupportedError,yr as LimitExceededRpcError,l0 as MaxFeePerGasTooLowError,aa as MethodNotFoundRpcError,Dt as MethodNotSupportedRpcError,Sr as NonceMaxValueError,Tr as NonceTooHighError,Ar as NonceTooLowError,ia as ParseRpcError,Xs as ProviderDisconnectedError,Jm as ProviderRpcError,En as RawContractError,ra as ResourceNotFoundRpcError,na as ResourceUnavailableRpcError,Xm as RpcError,ts as RpcRequestError,hm as SizeExceedsPaddingSizeError,ym as SizeOverflowError,gm as SliceOffsetOutOfBoundsError,fn as SocketClosedError,Tu as SolidityProtectedKeywordError,Zu as StateAssignmentConflictError,Ys as SwitchChainError,wr as TimeoutError,vt as TipAboveFeeCapError,e0 as TransactionExecutionError,vo as TransactionNotFoundError,Eo as TransactionReceiptNotFoundError,gr as TransactionRejectedRpcError,kr as TransactionTypeNotSupportedError,ea as UnauthorizedProviderError,Ws as UnknownBundleIdError,kt as UnknownNodeError,eu as UnknownRpcError,$u as UnknownSignatureError,xu as UnknownTypeError,Ks as UnsupportedChainIdError,mr as UnsupportedNonOptionalCapabilityError,zc as UnsupportedPackedAbiType,Qs as UnsupportedProviderMethodError,wc as UrlRequiredError,Qt as UserRejectedRequestError,gf as WaitForCallsStatusTimeoutError,t0 as WaitForTransactionReceiptTimeoutError,ca as WebSocketRequestError,oi as assertCurrentChain,Je as assertRequest,zn as assertTransactionEIP1559,Pi as assertTransactionEIP2930,Ii as assertTransactionLegacy,cs as blobsToCommitments,us as blobsToProofs,wm as boolToBytes,Cc as boolToHex,xm as bytesToBigInt,vm as bytesToBool,ie as bytesToHex,Em as bytesToNumber,eh as bytesToRlp,Pm as bytesToString,Ai as ccipFetch,Ai as ccipRequest,Ya as checksumAddress,So as commitmentToVersionedHash,Bo as commitmentsToVersionedHashes,Kb as compactSignatureToHex,Hb as compactSignatureToSignature,De as concat,Im as concatBytes,he as concatHex,Ts as createClient,Ad as createNonceManager,Nb as createPublicClient,Rb as createTestClient,Dn as createTransport,Mb as createWalletClient,zb as custom,gn as decodeAbiParameters,qb as decodeDeployData,Ka as decodeErrorResult,eo as decodeEventLog,wf as decodeFunctionData,Xe as decodeFunctionResult,Tm as defineBlock,Am as defineChain,eb as defineKzg,Sm as defineTransaction,Bm as defineTransactionReceipt,$m as defineTransactionRequest,ei as deploylessCallViaBytecodeBytecode,ef as deploylessCallViaFactoryBytecode,Cm as domainSeparator,ut as encodeAbiParameters,kn as encodeDeployData,$a as encodeErrorResult,Tt as encodeEventTopics,de as encodeFunctionData,xf as encodeFunctionResult,mb as encodePacked,fb as erc1155Abi,cb as erc20Abi,ub as erc20Abi_bytes32,lb as erc4626Abi,Sa as erc6492SignatureValidatorAbi,tf as erc6492SignatureValidatorByteCode,db as erc721Abi,F1 as ethAddress,yo as etherUnits,yb as extractChain,Fb as fallback,Ja as formatBlock,rs as formatEther,oe as formatGwei,Re as formatLog,Wc as formatTransaction,Zc as formatTransactionReceipt,Ye as formatTransactionRequest,wo as formatUnits,Ub as fromBlobs,km as fromBytes,Nm as fromHex,Si as fromRlp,ct as getAbiItem,Ee as getAddress,pt as getChainContractAddress,pb as getContract,hb as getContractAddress,He as getContractError,Jf as getCreate2Address,Yf as getCreateAddress,Rm as getEventSelector,Mm as getEventSignature,Yr as getFunctionSelector,zm as getFunctionSignature,b1 as getSerializedTransactionType,Ro as getTransactionType,Yc as getTypesForEIP712Domain,go as gweiUnits,Fm as hashDomain,Cs as hashMessage,_m as hashStruct,so as hashTypedData,D as hexToBigInt,Kc as hexToBool,be as hexToBytes,Vb as hexToCompactSignature,H as hexToNumber,th as hexToRlp,Wb as hexToSignature,Om as hexToString,_b as http,ye as isAddress,Fe as isAddressEqual,ka as isBytes,Md as isErc6492Signature,d1 as isErc8010Signature,hd as isHash,q as isHex,Be as keccak256,Bc as labelhash,nh as maxInt104,rh as maxInt112,sh as maxInt120,ah as maxInt128,oh as maxInt136,ih as maxInt144,ch as maxInt152,uh as maxInt16,fh as maxInt160,dh as maxInt168,lh as maxInt176,ph as maxInt184,bh as maxInt192,mh as maxInt200,hh as maxInt208,yh as maxInt216,gh as maxInt224,wh as maxInt232,xh as maxInt24,vh as maxInt240,Eh as maxInt248,Ph as maxInt256,Ih as maxInt32,Th as maxInt40,Ah as maxInt48,Sh as maxInt56,Bh as maxInt64,$h as maxInt72,Ch as maxInt8,kh as maxInt80,Nh as maxInt88,Rh as maxInt96,Mh as maxUint104,zh as maxUint112,Fh as maxUint120,_h as maxUint128,Oh as maxUint136,Lh as maxUint144,qh as maxUint152,Uh as maxUint16,jh as maxUint160,Dh as maxUint168,Gh as maxUint176,Hh as maxUint184,Vh as maxUint192,Wh as maxUint200,Zh as maxUint208,Kh as maxUint216,Yh as maxUint224,Jh as maxUint232,Xh as maxUint24,Qh as maxUint240,ey as maxUint248,wn as maxUint256,ty as maxUint32,ny as maxUint40,ry as maxUint48,sy as maxUint56,ay as maxUint64,oy as maxUint72,iy as maxUint8,cy as maxUint80,uy as maxUint88,fy as maxUint96,dy as minInt104,ly as minInt112,py as minInt120,by as minInt128,my as minInt136,hy as minInt144,yy as minInt152,gy as minInt16,wy as minInt160,xy as minInt168,vy as minInt176,Ey as minInt184,Py as minInt192,Iy as minInt200,Ty as minInt208,Ay as minInt216,Sy as minInt224,By as minInt232,$y as minInt24,Cy as minInt240,ky as minInt248,Ny as minInt256,Ry as minInt32,My as minInt40,zy as minInt48,Fy as minInt56,_y as minInt64,Oy as minInt72,Ly as minInt8,qy as minInt80,Uy as minInt88,jy as minInt96,bn as multicall3Abi,_r as namehash,wb as nonceManager,Lm as numberToBytes,S as numberToHex,pd as offchainLookup,Ti as offchainLookupAbiItem,ld as offchainLookupSignature,Xt as pad,qm as padBytes,Gs as padHex,mo as parseAbi,ua as parseAbiItem,sb as parseAbiParameter,fa as parseAbiParameters,Vb as parseCompactSignature,Pb as parseErc6492Signature,Ib as parseErc8010Signature,Cb as parseEther,Qr as parseEventLogs,kb as parseGwei,Wb as parseSignature,m1 as parseTransaction,lc as parseUnits,Vu as prepareEncodeFunctionData,Nd as presignMessagePrefix,sp as publicActions,dt as recoverAddress,l1 as recoverMessageAddress,o0 as recoverPublicKey,Zb as recoverTransactionAddress,p1 as recoverTypedDataAddress,gb as ripemd160,bb as rpcSchema,Um as rpcTransactionType,Fn as serializeAccessList,Kb as serializeCompactSignature,Tb as serializeErc6492Signature,Ab as serializeErc8010Signature,D1 as serializeSignature,Xf as serializeTransaction,Xc as serializeTypedData,jm as setErrorConfig,Gb as setupKzg,tu as sha256,Jp as shouldThrow,jb as sidecarsToVersionedHashes,Yb as signatureToCompactSignature,D1 as signatureToHex,St as size,on as slice,Dm as sliceBytes,an as sliceHex,Jt as stringToBytes,xt as stringToHex,X as stringify,zp as testActions,ds as toBlobSidecars,g0 as toBlobs,Ne as toBytes,Db as toCoinType,Gm as toEventHash,Hm as toEventSelector,Vm as toEventSignature,Wm as toFunctionHash,Yr as toFunctionSelector,Zm as toFunctionSignature,$e as toHex,Rd as toPrefixedMessage,Me as toRlp,Km as transactionType,Ge as trim,Sa as universalSignatureValidatorAbi,tf as universalSignatureValidatorByteCode,Jc as validateTypedData,Sb as verifyHash,Bb as verifyMessage,$b as verifyTypedData,Yp as walletActions,Ob as webSocket,ab as weiUnits,pf as withCache,hn as withRetry,ro as withTimeout,we as zeroAddress,xb as zeroHash};
